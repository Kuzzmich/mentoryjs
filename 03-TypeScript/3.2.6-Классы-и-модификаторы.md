# 3.2.1 –ö–ª–∞—Å—Å—ã –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

> **–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≤ TypeScript.

---

## üìñ –¢–µ–æ—Ä–∏—è

### –ö–ª–∞—Å—Å—ã –≤ TypeScript

TypeScript —Ä–∞—Å—à–∏—Ä—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–æ–≤ ES6, –¥–æ–±–∞–≤–ª—è—è:
- **–¢–∏–ø–∏–∑–∞—Ü–∏—é –ø–æ–ª–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤**
- **–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞** (public, private, protected)
- **Readonly –ø–æ–ª—è**
- **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã**
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —á–ª–µ–Ω—ã**

–ö–ª–∞—Å—Å—ã –ø–æ–º–æ–≥–∞—é—Ç –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –∏ –¥–∞–Ω–Ω—ã–µ, –¥–µ–ª–∞—è –∫–æ–¥ –±–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º.

---

## 1. –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–ª–∞—Å—Å–æ–≤

```typescript
class User {
  name: string;
  age: number;

  constructor(name: string, age: number) {
    this.name = name;
    this.age = age;
  }

  greet(): string {
    return `–ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç ${this.name}`;
  }
}

const user = new User("–ê–ª–µ–∫—Å–µ–π", 25);
console.log(user.greet()); // "–ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç –ê–ª–µ–∫—Å–µ–π"
```

### –°–æ–∫—Ä–∞—â—ë–Ω–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å —á–µ—Ä–µ–∑ constructor

TypeScript –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—ä—è–≤–ª—è—Ç—å –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—è –ø—Ä—è–º–æ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞:

```typescript
class User {
  constructor(
    public name: string,
    public age: number
  ) {}

  greet(): string {
    return `–ü—Ä–∏–≤–µ—Ç, –º–µ–Ω—è –∑–æ–≤—É—Ç ${this.name}`;
  }
}
```

–≠—Ç–æ —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É –ø—Ä–∏–º–µ—Ä—É, –Ω–æ –∫–æ—Ä–æ—á–µ –∏ —á–∏—Ç–∞–µ–º–µ–µ.

---

## 2. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞

TypeScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç—Ä–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —á–ª–µ–Ω–æ–≤ –∫–ª–∞—Å—Å–∞:

### `public` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–î–æ—Å—Ç—É–ø–Ω–æ –≤–µ–∑–¥–µ:

```typescript
class User {
  public name: string; // —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ (–º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å)

  constructor(name: string) {
    this.name = name;
  }
}

const user = new User("–ê–ª–µ–∫—Å–µ–π");
console.log(user.name); // ‚úÖ "–ê–ª–µ–∫—Å–µ–π"
```

### `private`

–î–æ—Å—Ç—É–ø–Ω–æ **—Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞**:

```typescript
class BankAccount {
  private balance: number = 0;

  deposit(amount: number): void {
    this.balance += amount;
  }

  getBalance(): number {
    return this.balance;
  }
}

const account = new BankAccount();
account.deposit(1000);
console.log(account.getBalance()); // ‚úÖ 1000
console.log(account.balance); // ‚ùå Error: Property 'balance' is private
```

### `protected`

–î–æ—Å—Ç—É–ø–Ω–æ **–≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ –∏ –≤ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö**:

```typescript
class Animal {
  protected name: string;

  constructor(name: string) {
    this.name = name;
  }
}

class Dog extends Animal {
  bark(): void {
    console.log(`${this.name} –ª–∞–µ—Ç`); // ‚úÖ –î–æ—Å—Ç—É–ø –µ—Å—Ç—å
  }
}

const dog = new Dog("–ë–æ–±–∏–∫");
dog.bark(); // "–ë–æ–±–∏–∫ –ª–∞–µ—Ç"
console.log(dog.name); // ‚ùå Error: Property 'name' is protected
```

---

## 3. Readonly –ø–æ–ª—è

–ü–æ–ª—è —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º `readonly` –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ:
- –ü—Ä–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–∏
- –í –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ

–ü–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Ö **–Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å**:

```typescript
class Config {
  readonly apiUrl: string = "https://api.example.com";
  readonly timeout: number;

  constructor(timeout: number) {
    this.timeout = timeout;
  }

  updateUrl(newUrl: string): void {
    this.apiUrl = newUrl; // ‚ùå Error: Cannot assign to 'apiUrl'
  }
}

const config = new Config(5000);
config.timeout = 3000; // ‚ùå Error: Cannot assign to 'timeout'
```

### Readonly + private

–ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:

```typescript
class ApiService {
  private readonly apiKey: string;

  constructor(apiKey: string) {
    this.apiKey = apiKey;
  }

  // apiKey –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–∂–µ –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ (–ø–æ—Å–ª–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞)
}
```

---

## 4. –ì–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã

TypeScript –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `get` –∏ `set` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—è–º:

```typescript
class Temperature {
  private _celsius: number = 0;

  get celsius(): number {
    return this._celsius;
  }

  set celsius(value: number) {
    if (value < -273.15) {
      throw new Error("–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ –∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ –Ω—É–ª—è");
    }
    this._celsius = value;
  }

  get fahrenheit(): number {
    return this._celsius * 9/5 + 32;
  }

  set fahrenheit(value: number) {
    this.celsius = (value - 32) * 5/9;
  }
}

const temp = new Temperature();
temp.celsius = 25;
console.log(temp.fahrenheit); // 77

temp.fahrenheit = 32;
console.log(temp.celsius); // 0

temp.celsius = -300; // ‚ùå Error: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∏–∂–µ...
```

---

## 5. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã

–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã:
- **–ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é** (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–æ–≤)
- –ú–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å **–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã** (–±–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
- –ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏ **–æ–±—è–∑–∞–Ω—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å** –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```typescript
abstract class Shape {
  constructor(public name: string) {}

  // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ (–Ω–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
  abstract getArea(): number;

  // –û–±—ã—á–Ω—ã–π –º–µ—Ç–æ–¥ (–µ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
  describe(): string {
    return `–≠—Ç–æ ${this.name} —Å –ø–ª–æ—â–∞–¥—å—é ${this.getArea()}`;
  }
}

class Circle extends Shape {
  constructor(public radius: number) {
    super("–∫—Ä—É–≥");
  }

  getArea(): number {
    return Math.PI * this.radius ** 2;
  }
}

class Rectangle extends Shape {
  constructor(
    public width: number,
    public height: number
  ) {
    super("–ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫");
  }

  getArea(): number {
    return this.width * this.height;
  }
}

const circle = new Circle(5);
console.log(circle.describe()); // "–≠—Ç–æ –∫—Ä—É–≥ —Å –ø–ª–æ—â–∞–¥—å—é 78.54"

const rect = new Rectangle(4, 6);
console.log(rect.describe()); // "–≠—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ —Å –ø–ª–æ—â–∞–¥—å—é 24"

const shape = new Shape("—Ñ–∏–≥—É—Ä–∞"); // ‚ùå Error: Cannot create an instance of an abstract class
```

---

## 6. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —á–ª–µ–Ω—ã

–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è –∏ –º–µ—Ç–æ–¥—ã –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç **–∫–ª–∞—Å—Å—É**, –∞ –Ω–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—É:

```typescript
class MathUtils {
  static PI: number = 3.14159;

  static calculateCircleArea(radius: number): number {
    return this.PI * radius ** 2;
  }

  static max(...numbers: number[]): number {
    return Math.max(...numbers);
  }
}

console.log(MathUtils.PI); // 3.14159
console.log(MathUtils.calculateCircleArea(5)); // 78.54
console.log(MathUtils.max(1, 5, 3, 9, 2)); // 9

const utils = new MathUtils();
console.log(utils.PI); // ‚ùå Error: Property 'PI' is a static member
```

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ + –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ

```typescript
class Counter {
  private static count: number = 0;

  constructor() {
    Counter.count++;
  }

  static getCount(): number {
    return Counter.count;
  }
}

const c1 = new Counter();
const c2 = new Counter();
const c3 = new Counter();

console.log(Counter.getCount()); // 3
console.log(Counter.count); // ‚ùå Error: Property 'count' is private
```

---

## 7. –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π –∫–ª–∞—Å—Å—ã –∫–æ–≥–¥–∞:
- –ù—É–∂–Ω–∞ **–∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è** (—Å–∫—Ä—ã—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é)
- –ï—Å—Ç—å **—Å–æ—Å—Ç–æ—è–Ω–∏–µ**, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å
- –õ–æ–≥–∏–∫–∞ **—Å–ª–æ–∂–Ω–∞—è** –∏ —Ç—Ä–µ–±—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù—É–∂–Ω—ã **–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ** –∏ **–ø–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º**

### ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π –∫–ª–∞—Å—Å—ã –∫–æ–≥–¥–∞:
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ù–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è (stateless –ª–æ–≥–∏–∫–∞)
- –†–∞–±–æ—Ç–∞–µ—à—å –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º —Å—Ç–∏–ª–µ

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

| –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä | –í –∫–ª–∞—Å—Å–µ | –í –Ω–∞—Å–ª–µ–¥–Ω–∏–∫–∞—Ö | –°–Ω–∞—Ä—É–∂–∏ |
|-------------|----------|---------------|---------|
| `public`    | ‚úÖ       | ‚úÖ            | ‚úÖ      |
| `protected` | ‚úÖ       | ‚úÖ            | ‚ùå      |
| `private`   | ‚úÖ       | ‚ùå            | ‚ùå      |
| `readonly`  | ‚úÖ (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –ø–æ—Å–ª–µ init) | ‚úÖ (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ) | ‚úÖ (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ) |

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.1.1: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Å–∞ WeatherService

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `WeatherService` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –ø–æ–≥–æ–¥—ã. –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å API-–∫–ª—é—á –∏ URL.

### –®–∞–≥–∏:

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/modules/services/WeatherService.ts`

2. –†–µ–∞–ª–∏–∑—É–π –∫–ª–∞—Å—Å —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
   ```typescript
   export class WeatherService {
     // private –ø–æ–ª–µ –¥–ª—è API-–∫–ª—é—á–∞ (–Ω–µ–ª—å–∑—è –º–µ–Ω—è—Ç—å —Å–Ω–∞—Ä—É–∂–∏)
     // private –ø–æ–ª–µ –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ URL API
     // –ø—É–±–ª–∏—á–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç apiKey)

     // –ú–µ—Ç–æ–¥ fetchWeather(city: string): Promise<WeatherData>
     // –ú–µ—Ç–æ–¥ clearCache(): void
   }
   ```

3. –ò—Å–ø–æ–ª—å–∑—É–π –º–æ–¥—É–ª—å `cache.ts` –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ 3.1.5 –≤–Ω—É—Ç—Ä–∏ –∫–ª–∞—Å—Å–∞

4. –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-weather-service.ts`:
   ```typescript
   import { WeatherService } from "./src/modules/services/WeatherService";

   const service = new WeatherService("your-api-key-here");

   async function test() {
     try {
       const weather = await service.fetchWeather("–ú–æ—Å–∫–≤–∞");
       console.log("‚úÖ –ü–æ–≥–æ–¥–∞ –ø–æ–ª—É—á–µ–Ω–∞:", weather);

       const cached = await service.fetchWeather("–ú–æ—Å–∫–≤–∞");
       console.log("‚úÖ –ò–∑ –∫—ç—à–∞:", cached);

       service.clearCache();
       console.log("‚úÖ –ö—ç—à –æ—á–∏—â–µ–Ω");
     } catch (error) {
       console.error("‚ùå –û—à–∏–±–∫–∞:", error);
     }
   }

   test();
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- API-–∫–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **private**
- –ë–∞–∑–æ–≤—ã–π URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **private**
- –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- –ò—Å–ø–æ–ª—å–∑—É–π –º–æ–¥—É–ª—å –∫—ç—à–∞ –∏–∑ 3.1.5

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—Å–∞</summary>

```typescript
import type { WeatherData } from "../../types/weather";
import { getCached, setCache, clearCache as clearWeatherCache } from "../utils/cache";

export class WeatherService {
  private apiKey: string;
  private baseUrl: string = "https://api.openweathermap.org/data/2.5";

  constructor(apiKey: string) {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π apiKey
  }

  async fetchWeather(city: string): Promise<WeatherData> {
    // 1. –ü—Ä–æ–≤–µ—Ä—å –∫—ç—à
    // 2. –ï—Å–ª–∏ –µ—Å—Ç—å –≤ –∫—ç—à–µ ‚Äî –≤–µ—Ä–Ω–∏
    // 3. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–¥–µ–ª–∞–π –∑–∞–ø—Ä–æ—Å –∫ API
    // 4. –°–æ—Ö—Ä–∞–Ω–∏ –≤ –∫—ç—à
    // 5. –í–µ—Ä–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  }

  clearCache(): void {
    // –í—ã–∑–æ–≤–∏ —Ñ—É–Ω–∫—Ü–∏—é –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞
  }
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –∏ –∑–∞–ø—Ä–æ—Å</summary>

```typescript
async fetchWeather(city: string): Promise<WeatherData> {
  const cached = getCached(city);
  if (cached) {
    console.log(`‚úÖ –ö—ç—à: –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city} –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞`);
    return cached;
  }

  console.log(`üåê API: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city}`);
  const url = `${this.baseUrl}/weather?q=${city}&appid=${this.apiKey}&units=metric&lang=ru`;

  const response = await fetch(url);
  if (!response.ok) {
    throw new Error(`HTTP error! status: ${response.status}`);
  }

  const data = await response.json();

  // –ü—Ä–µ–æ–±—Ä–∞–∑—É–π –æ—Ç–≤–µ—Ç API –≤ WeatherData
  const weatherData: WeatherData = {
    // ... –º–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π
  };

  setCache(city, weatherData);
  return weatherData;
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 3: –ú–∞–ø–ø–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ API</summary>

```typescript
const weatherData: WeatherData = {
  city: data.name,
  temperature: data.main.temp,
  feelsLike: data.main.feels_like,
  humidity: data.main.humidity,
  pressure: data.main.pressure,
  windSpeed: data.wind.speed,
  description: data.weather[0].description,
  icon: data.weather[0].icon,
  country: data.sys.country,
};
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build
node dist/test-weather-service.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üåê API: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ú–æ—Å–∫–≤–∞
‚úÖ –ü–æ–≥–æ–¥–∞ –ø–æ–ª—É—á–µ–Ω–∞: { city: '–ú–æ—Å–∫–≤–∞', temperature: 5, ... }
‚úÖ –ö—ç—à: –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ú–æ—Å–∫–≤–∞ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞
‚úÖ –ò–∑ –∫—ç—à–∞: { city: '–ú–æ—Å–∫–≤–∞', temperature: 5, ... }
‚úÖ –ö—ç—à –æ—á–∏—â–µ–Ω
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.1.2: Readonly –∏ –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã

**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å –≤ `WeatherService` –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å `readonly` –ø–æ–ª—è–º–∏ –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –¥–æ—Å—Ç—É–ø –∫ –µ–¥–∏–Ω–∏—Ü–∞–º –∏–∑–º–µ—Ä–µ–Ω–∏—è —á–µ—Ä–µ–∑ –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã.

### –®–∞–≥–∏:

1. –†–∞—Å—à–∏—Ä—å –∫–ª–∞—Å—Å `WeatherService`:
   ```typescript
   export class WeatherService {
     private apiKey: string;
     private baseUrl: string = "https://api.openweathermap.org/data/2.5";

     // –î–æ–±–∞–≤—å readonly –ø–æ–ª–µ –¥–ª—è —è–∑—ã–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "ru")
     // –î–æ–±–∞–≤—å readonly –ø–æ–ª–µ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∫—ç—à–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 600000 –º—Å)

     // –ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è (celsius/fahrenheit)

     // –ì–µ—Ç—Ç–µ—Ä –¥–ª—è units
     // –°–µ—Ç—Ç–µ—Ä –¥–ª—è units (—Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π)
   }
   ```

2. –û–±–Ω–æ–≤–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —á—Ç–æ–±—ã –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   ```typescript
   constructor(
     apiKey: string,
     lang?: string,
     cacheTTL?: number
   ) {
     // ...
   }
   ```

3. –î–æ–±–∞–≤—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ —Å–µ—Ç—Ç–µ—Ä:
   - –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: `"celsius"`, `"fahrenheit"`
   - –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–π –æ—à–∏–±–∫—É

4. –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-weather-config.ts`:
   ```typescript
   import { WeatherService } from "./src/modules/services/WeatherService";

   const service = new WeatherService("api-key", "en", 300000);

   console.log("–ï–¥–∏–Ω–∏—Ü—ã:", service.units); // "celsius"

   service.units = "fahrenheit";
   console.log("–ï–¥–∏–Ω–∏—Ü—ã:", service.units); // "fahrenheit"

   try {
     service.units = "kelvin" as any;
   } catch (error) {
     console.log("‚úÖ –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:", error.message);
   }
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `lang` –∏ `cacheTTL` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **readonly**
- `_units` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **private**
- –°–µ—Ç—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è
- –ì–µ—Ç—Ç–µ—Ä –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ readonly –ø–æ–ª–µ–π</summary>

```typescript
export class WeatherService {
  private apiKey: string;
  private baseUrl: string = "https://api.openweathermap.org/data/2.5";

  readonly lang: string;
  readonly cacheTTL: number;

  private _units: "celsius" | "fahrenheit" = "celsius";

  constructor(
    apiKey: string,
    lang: string = "ru",
    cacheTTL: number = 600000
  ) {
    this.apiKey = apiKey;
    this.lang = lang;
    this.cacheTTL = cacheTTL;
  }
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –ì–µ—Ç—Ç–µ—Ä –∏ —Å–µ—Ç—Ç–µ—Ä</summary>

```typescript
get units(): "celsius" | "fahrenheit" {
  return this._units;
}

set units(value: "celsius" | "fahrenheit") {
  if (value !== "celsius" && value !== "fahrenheit") {
    throw new Error(
      `–ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è: ${value}. –ò—Å–ø–æ–ª—å–∑—É–π "celsius" –∏–ª–∏ "fahrenheit"`
    );
  }
  this._units = value;
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ units –≤ –∑–∞–ø—Ä–æ—Å–µ</summary>

```typescript
async fetchWeather(city: string): Promise<WeatherData> {
  // ... –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞

  const units = this._units === "celsius" ? "metric" : "imperial";
  const url = `${this.baseUrl}/weather?q=${city}&appid=${this.apiKey}&units=${units}&lang=${this.lang}`;

  // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
}
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build
node dist/test-weather-config.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ï–¥–∏–Ω–∏—Ü—ã: celsius
–ï–¥–∏–Ω–∏—Ü—ã: fahrenheit
‚úÖ –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏: –ù–µ–¥–æ–ø—É—Å—Ç–∏–º–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è: kelvin...
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.1.3: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å BaseService

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â—É—é –ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫).

### –®–∞–≥–∏:

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/modules/services/BaseService.ts`:
   ```typescript
   export abstract class BaseService {
     // protected –ø–æ–ª–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞

     // –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä (–ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏–º—è —Å–µ—Ä–≤–∏—Å–∞)

     // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ getData(query: string): Promise<any>

     // –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –º–µ—Ç–æ–¥ handleError(error: Error): never
     // (–ª–æ–≥–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –¥–∞–ª—å—à–µ)

     // –ó–∞—â–∏—â—ë–Ω–Ω—ã–π –º–µ—Ç–æ–¥ log(message: string): void
     // (–≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º –∏–º–µ–Ω–∏ —Å–µ—Ä–≤–∏—Å–∞)
   }
   ```

2. –ü–µ—Ä–µ–ø–∏—à–∏ `WeatherService`, —á—Ç–æ–±—ã –æ–Ω –Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª `BaseService`:
   ```typescript
   export class WeatherService extends BaseService {
     // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è

     constructor(apiKey: string, lang?: string, cacheTTL?: number) {
       super("WeatherService");
       // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
     }

     // –†–µ–∞–ª–∏–∑—É–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥ getData
     async getData(city: string): Promise<WeatherData> {
       return this.fetchWeather(city);
     }

     async fetchWeather(city: string): Promise<WeatherData> {
       // –ò—Å–ø–æ–ª—å–∑—É–π this.log() –≤–º–µ—Å—Ç–æ console.log
       // –ò—Å–ø–æ–ª—å–∑—É–π this.handleError() –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
     }
   }
   ```

3. –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-base-service.ts`:
   ```typescript
   import { WeatherService } from "./src/modules/services/WeatherService";

   const service = new WeatherService("api-key");

   async function test() {
     try {
       const weather = await service.getData("–ú–æ—Å–∫–≤–∞");
       console.log("‚úÖ –ü–æ–ª—É—á–µ–Ω–æ —á–µ—Ä–µ–∑ getData:", weather.city);
     } catch (error) {
       console.error("‚ùå –û—à–∏–±–∫–∞:", error);
     }

     try {
       await service.getData("NonExistentCity12345");
     } catch (error) {
       console.log("‚úÖ –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ");
     }
   }

   test();
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `BaseService` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º**
- `serviceName` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **protected**
- `handleError` –∏ `log` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **protected**
- `getData` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–º** –º–µ—Ç–æ–¥–æ–º

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å BaseService</summary>

```typescript
export abstract class BaseService {
  protected serviceName: string;

  constructor(serviceName: string) {
    this.serviceName = serviceName;
  }

  abstract getData(query: string): Promise<any>;

  protected handleError(error: Error): never {
    this.log(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`);
    throw error;
  }

  protected log(message: string): void {
    console.log(`[${this.serviceName}] ${message}`);
  }
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –≤ WeatherService</summary>

```typescript
import { BaseService } from "./BaseService";
import type { WeatherData } from "../../types/weather";
import { getCached, setCache, clearCache as clearWeatherCache } from "../utils/cache";

export class WeatherService extends BaseService {
  private apiKey: string;
  private baseUrl: string = "https://api.openweathermap.org/data/2.5";
  readonly lang: string;
  readonly cacheTTL: number;
  private _units: "celsius" | "fahrenheit" = "celsius";

  constructor(
    apiKey: string,
    lang: string = "ru",
    cacheTTL: number = 600000
  ) {
    super("WeatherService");
    this.apiKey = apiKey;
    this.lang = lang;
    this.cacheTTL = cacheTTL;
  }

  async getData(city: string): Promise<WeatherData> {
    return this.fetchWeather(city);
  }

  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ log –∏ handleError</summary>

```typescript
async fetchWeather(city: string): Promise<WeatherData> {
  const cached = getCached(city);
  if (cached) {
    this.log(`‚úÖ –ö—ç—à: –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city} –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞`);
    return cached;
  }

  this.log(`üåê API: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city}`);

  try {
    const units = this._units === "celsius" ? "metric" : "imperial";
    const url = `${this.baseUrl}/weather?q=${city}&appid=${this.apiKey}&units=${units}&lang=${this.lang}`;

    const response = await fetch(url);
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }

    const data = await response.json();

    const weatherData: WeatherData = {
      city: data.name,
      temperature: data.main.temp,
      feelsLike: data.main.feels_like,
      humidity: data.main.humidity,
      pressure: data.main.pressure,
      windSpeed: data.wind.speed,
      description: data.weather[0].description,
      icon: data.weather[0].icon,
      country: data.sys.country,
    };

    setCache(city, weatherData);
    return weatherData;
  } catch (error) {
    this.handleError(error as Error);
  }
}
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build
node dist/test-base-service.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[WeatherService] üåê API: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ú–æ—Å–∫–≤–∞
‚úÖ –ü–æ–ª—É—á–µ–Ω–æ —á–µ—Ä–µ–∑ getData: –ú–æ—Å–∫–≤–∞
[WeatherService] üåê API: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è NonExistentCity12345
[WeatherService] ‚ùå –û—à–∏–±–∫–∞: HTTP error! status: 404
‚úÖ –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.1.4: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —É—Ç–∏–ª–∏—Ç—ã

**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å –≤ `WeatherService` —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.

### –®–∞–≥–∏:

1. –î–æ–±–∞–≤—å –≤ `WeatherService` —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:
   ```typescript
   export class WeatherService extends BaseService {
     // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥

     // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –¶–µ–ª—å—Å–∏—è –≤ –§–∞—Ä–µ–Ω–≥–µ–π—Ç—ã
     static celsiusToFahrenheit(celsius: number): number {}

     // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –§–∞—Ä–µ–Ω–≥–µ–π—Ç–æ–≤ –≤ –¶–µ–ª—å—Å–∏–π
     static fahrenheitToCelsius(fahrenheit: number): number {}

     // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞
     static isValidCityName(city: string): boolean {}

     // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
     static formatTemperature(
       temp: number,
       unit: "celsius" | "fahrenheit"
     ): string {}
   }
   ```

2. –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-static-utils.ts`:
   ```typescript
   import { WeatherService } from "./src/modules/services/WeatherService";

   console.log("=== –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ===");
   console.log("25¬∞C =", WeatherService.celsiusToFahrenheit(25), "¬∞F");
   console.log("77¬∞F =", WeatherService.fahrenheitToCelsius(77), "¬∞C");

   console.log("\n=== –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ—Ä–æ–¥–∞ ===");
   console.log("–ú–æ—Å–∫–≤–∞:", WeatherService.isValidCityName("–ú–æ—Å–∫–≤–∞"));
   console.log("123:", WeatherService.isValidCityName("123"));
   console.log("'':", WeatherService.isValidCityName(""));

   console.log("\n=== –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ===");
   console.log(WeatherService.formatTemperature(25, "celsius"));
   console.log(WeatherService.formatTemperature(77, "fahrenheit"));
   ```

3. –ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ `isValidCityName` –≤ –º–µ—Ç–æ–¥–µ `fetchWeather`:
   ```typescript
   async fetchWeather(city: string): Promise<WeatherData> {
     if (!WeatherService.isValidCityName(city)) {
       throw new Error("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞");
     }
     // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞
   }
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **static**
- `isValidCityName` –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å:
  - –°—Ç—Ä–æ–∫–∞ –Ω–µ –ø—É—Å—Ç–∞—è
  - –ú–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞
  - –°–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏ –ø—Ä–æ–±–µ–ª—ã
- `formatTemperature` –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç—Ä–æ–∫—É —Å —Å–∏–º–≤–æ–ª–æ–º –≥—Ä–∞–¥—É—Å–∞

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏</summary>

```typescript
static celsiusToFahrenheit(celsius: number): number {
  return celsius * 9/5 + 32;
}

static fahrenheitToCelsius(fahrenheit: number): number {
  return (fahrenheit - 32) * 5/9;
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞</summary>

```typescript
static isValidCityName(city: string): boolean {
  if (!city || city.trim().length < 2) {
    return false;
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±—É–∫–≤—ã (–ª–∞—Ç–∏–Ω–∏—Ü–∞ –∏ –∫–∏—Ä–∏–ª–ª–∏—Ü–∞), –ø—Ä–æ–±–µ–ª—ã, –¥–µ—Ñ–∏—Å—ã
  const cityRegex = /^[a-zA-Z–∞-—è–ê-–Ø—ë–Å\s\-]+$/;
  return cityRegex.test(city);
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 3: –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã</summary>

```typescript
static formatTemperature(
  temp: number,
  unit: "celsius" | "fahrenheit"
): string {
  const rounded = Math.round(temp);
  const symbol = unit === "celsius" ? "¬∞C" : "¬∞F";
  return `${rounded}${symbol}`;
}
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build
node dist/test-static-utils.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
=== –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã ===
25¬∞C = 77 ¬∞F
77¬∞F = 25 ¬∞C

=== –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ—Ä–æ–¥–∞ ===
–ú–æ—Å–∫–≤–∞: true
123: false
'': false

=== –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ===
25¬∞C
77¬∞F
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.1.5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WeatherService –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ó–∞–¥–∞—á–∞:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `WeatherService` –≤ –ø–æ–≥–æ–¥–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Å–∞: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤–∞–ª–∏–¥–∞—Ü–∏—é, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è.

### –®–∞–≥–∏:

1. **–û–±–Ω–æ–≤–∏ `index.html`** –ø–æ–ª–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º:

```html
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ü–æ–≥–æ–¥–∞ - TypeScript Weather App</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      padding: 40px;
      max-width: 500px;
      width: 100%;
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 30px;
      font-size: 32px;
    }

    .search-box {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    #city-input {
      flex: 1;
      padding: 12px 20px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
      transition: border-color 0.3s;
    }

    #city-input:focus {
      outline: none;
      border-color: #667eea;
    }

    #search-btn {
      padding: 12px 30px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s;
    }

    #search-btn:hover {
      transform: translateY(-2px);
    }

    #search-btn:active {
      transform: translateY(0);
    }

    .settings {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding: 15px;
      background: #f5f5f5;
      border-radius: 10px;
    }

    .unit-switch {
      display: flex;
      gap: 10px;
    }

    .unit-btn {
      padding: 8px 16px;
      border: 2px solid #667eea;
      background: white;
      color: #667eea;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      font-weight: 600;
    }

    .unit-btn.active {
      background: #667eea;
      color: white;
    }

    #clear-cache-btn {
      padding: 8px 16px;
      background: #ff6b6b;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      transition: transform 0.2s;
    }

    #clear-cache-btn:hover {
      transform: translateY(-2px);
    }

    .error {
      background: #fee;
      border-left: 4px solid #f44336;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      color: #c62828;
      display: none;
    }

    .weather-card {
      display: none;
      animation: fadeIn 0.5s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .weather-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .weather-header h2 {
      font-size: 36px;
      color: #333;
      margin-bottom: 10px;
    }

    .weather-header .description {
      font-size: 18px;
      color: #666;
      text-transform: capitalize;
    }

    .temperature {
      text-align: center;
      font-size: 72px;
      font-weight: bold;
      color: #667eea;
      margin: 30px 0;
    }

    .weather-details {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 30px;
    }

    .detail-item {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
    }

    .detail-item .label {
      font-size: 14px;
      color: #666;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .detail-item .value {
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }

    .cache-indicator {
      text-align: center;
      margin-top: 20px;
      padding: 10px;
      background: #e8f5e9;
      border-radius: 8px;
      color: #2e7d32;
      font-weight: 600;
      display: none;
    }

    .loading {
      text-align: center;
      padding: 40px;
      display: none;
    }

    .spinner {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #667eea;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚õÖ –ü–æ–≥–æ–¥–∞</h1>

    <div class="search-box">
      <input
        type="text"
        id="city-input"
        placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞..."
        value="–ú–æ—Å–∫–≤–∞"
      >
      <button id="search-btn">–ü–æ–∏—Å–∫</button>
    </div>

    <div class="settings">
      <div class="unit-switch">
        <button class="unit-btn active" data-unit="celsius">¬∞C</button>
        <button class="unit-btn" data-unit="fahrenheit">¬∞F</button>
      </div>
      <button id="clear-cache-btn">–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</button>
    </div>

    <div class="error" id="error"></div>

    <div class="loading" id="loading">
      <div class="spinner"></div>
      <p style="margin-top: 15px; color: #666;">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
    </div>

    <div class="weather-card" id="weather-card">
      <div class="weather-header">
        <h2 id="city-name">‚Äî</h2>
        <p class="description" id="description">‚Äî</p>
      </div>

      <div class="temperature" id="temperature">‚Äî</div>

      <div class="weather-details">
        <div class="detail-item">
          <div class="label">–û—â—É—â–∞–µ—Ç—Å—è</div>
          <div class="value" id="feels-like">‚Äî</div>
        </div>
        <div class="detail-item">
          <div class="label">–í–ª–∞–∂–Ω–æ—Å—Ç—å</div>
          <div class="value" id="humidity">‚Äî</div>
        </div>
        <div class="detail-item">
          <div class="label">–î–∞–≤–ª–µ–Ω–∏–µ</div>
          <div class="value" id="pressure">‚Äî</div>
        </div>
        <div class="detail-item">
          <div class="label">–í–µ—Ç–µ—Ä</div>
          <div class="value" id="wind">‚Äî</div>
        </div>
      </div>

      <div class="cache-indicator" id="cache-indicator">
        ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞
      </div>
    </div>
  </div>

  <script type="module" src="/src/app.ts"></script>
</body>
</html>
```

2. **–û–±–Ω–æ–≤–∏ —Ñ–∞–π–ª `src/app.ts`** –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞ `WeatherService`:
   ```typescript
   // src/app.ts
   import { WeatherService } from "./modules/services/WeatherService";
   import type { WeatherData } from "./types/weather";

   const API_KEY = "—Ç–≤–æ–π-api-–∫–ª—é—á"; // –ó–∞–º–µ–Ω–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á OpenWeatherMap

   // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π WeatherService
   const weatherService = new WeatherService(API_KEY);

   // –ü–æ–ª—É—á–∏ –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã DOM
   const cityInput = document.getElementById("city-input") as HTMLInputElement;
   const searchBtn = document.getElementById("search-btn") as HTMLButtonElement;
   // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

   // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
   function displayWeather(data: WeatherData, fromCache: boolean): void {
     // –ü–æ–∫–∞–∂–∏ –∫–∞—Ä—Ç–æ—á–∫—É –ø–æ–≥–æ–¥—ã
     // –ó–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è –¥–∞–Ω–Ω—ã–º–∏
     // –ò—Å–ø–æ–ª—å–∑—É–π WeatherService.formatTemperature() –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
     // –ü–æ–∫–∞–∂–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫—ç—à–∞ –µ—Å–ª–∏ fromCache === true
   }

   // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–∫–∏
   function showError(message: string): void {
     // –ü–æ–∫–∞–∂–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
   }

   // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã
   async function fetchWeather(): Promise<void> {
     // –ü–æ–ª—É—á–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ input
     // –í–∞–ª–∏–¥–∏—Ä—É–π —á–µ—Ä–µ–∑ WeatherService.isValidCityName()
     // –ü–æ–∫–∞–∂–∏ loading
     // –í—ã–∑–æ–≤–∏ weatherService.getData()
     // –û–±—Ä–∞–±–æ—Ç–∞–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ displayWeather()
   }

   // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
   function setupUnitSwitch(): void {
     // –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
     // –û–±–Ω–æ–≤–∏ weatherService.units —á–µ—Ä–µ–∑ —Å–µ—Ç—Ç–µ—Ä
     // –ï—Å–ª–∏ –µ—Å—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ ‚Äî –ø–µ—Ä–µ—Ä–∏—Å—É–π –∏—Ö
   }

   // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞
   function setupCacheClear(): void {
     // –ü—Ä–∏ –∫–ª–∏–∫–µ –≤—ã–∑–æ–≤–∏ weatherService.clearCache()
   }

   // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
   searchBtn.addEventListener("click", fetchWeather);
   cityInput.addEventListener("keypress", (e) => {
     if (e.key === "Enter") fetchWeather();
   });

   setupUnitSwitch();
   setupCacheClear();

   // –ó–∞–≥—Ä—É–∑–∏ –ø–æ–≥–æ–¥—É –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
   fetchWeather();
   ```

3. **–†–µ–∞–ª–∏–∑—É–π –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏**, –∏—Å–ø–æ–ª—å–∑—É—è:
   - `WeatherService.isValidCityName()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - `weatherService.getData()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
   - `WeatherService.formatTemperature()` –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - `weatherService.units` (–≥–µ—Ç—Ç–µ—Ä/—Å–µ—Ç—Ç–µ—Ä) –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –µ–¥–∏–Ω–∏—Ü
   - `weatherService.clearCache()` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ò—Å–ø–æ–ª—å–∑—É–π **—Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å WeatherService**, –Ω–µ –≤—ã–∑—ã–≤–∞–π fetch –Ω–∞–ø—Ä—è–º—É—é
- –í–∞–ª–∏–¥–∏—Ä—É–π –≥–æ—Ä–æ–¥ **–ø–µ—Ä–µ–¥** –∑–∞–ø—Ä–æ—Å–æ–º —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥
- –§–æ—Ä–º–∞—Ç–∏—Ä—É–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É —á–µ—Ä–µ–∑ **—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥**
- –ü–µ—Ä–µ–∫–ª—é—á–∞–π –µ–¥–∏–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ **—Å–µ—Ç—Ç–µ—Ä** `weatherService.units`
- –ü–æ–∫–∞–∑—ã–≤–∞–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫—ç—à–∞, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π –≤—Å–µ –æ—à–∏–±–∫–∏

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: –ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ DOM –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è</summary>

```typescript
// src/app.ts
import { WeatherService } from "./modules/services/WeatherService.js";
import type { WeatherData } from "./types/weather.js";

const API_KEY = "—Ç–≤–æ–π-–∫–ª—é—á-api"; // –ó–∞–º–µ–Ω–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∫–ª—é—á

const weatherService = new WeatherService(API_KEY);

const cityInput = document.getElementById("city-input") as HTMLInputElement;
const searchBtn = document.getElementById("search-btn") as HTMLButtonElement;
const errorDiv = document.getElementById("error") as HTMLDivElement;
const loadingDiv = document.getElementById("loading") as HTMLDivElement;
const weatherCard = document.getElementById("weather-card") as HTMLDivElement;
const cacheIndicator = document.getElementById("cache-indicator") as HTMLDivElement;

const cityNameEl = document.getElementById("city-name") as HTMLHeadingElement;
const descriptionEl = document.getElementById("description") as HTMLParagraphElement;
const temperatureEl = document.getElementById("temperature") as HTMLDivElement;
const feelsLikeEl = document.getElementById("feels-like") as HTMLDivElement;
const humidityEl = document.getElementById("humidity") as HTMLDivElement;
const pressureEl = document.getElementById("pressure") as HTMLDivElement;
const windEl = document.getElementById("wind") as HTMLDivElement;

const unitBtns = document.querySelectorAll(".unit-btn");
const clearCacheBtn = document.getElementById("clear-cache-btn") as HTMLButtonElement;
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–≥–æ–¥—ã</summary>

```typescript
function displayWeather(data: WeatherData, fromCache: boolean): void {
  errorDiv.style.display = "none";
  loadingDiv.style.display = "none";
  weatherCard.style.display = "block";

  const unit = weatherService.units;

  cityNameEl.textContent = `${data.city}, ${data.country}`;
  descriptionEl.textContent = data.description;

  temperatureEl.textContent = WeatherService.formatTemperature(data.temperature, unit);
  feelsLikeEl.textContent = WeatherService.formatTemperature(data.feelsLike, unit);
  humidityEl.textContent = `${data.humidity}%`;
  pressureEl.textContent = `${data.pressure} hPa`;
  windEl.textContent = `${data.windSpeed} –º/—Å`;

  cacheIndicator.style.display = fromCache ? "block" : "none";
}

function showError(message: string): void {
  errorDiv.textContent = message;
  errorDiv.style.display = "block";
  weatherCard.style.display = "none";
  loadingDiv.style.display = "none";
}

async function fetchWeather(): Promise<void> {
  const city = cityInput.value.trim();

  if (!WeatherService.isValidCityName(city)) {
    showError("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (–º–∏–Ω–∏–º—É–º 2 –±—É–∫–≤—ã)");
    return;
  }

  errorDiv.style.display = "none";
  weatherCard.style.display = "none";
  loadingDiv.style.display = "block";

  try {
    const startTime = Date.now();
    const data = await weatherService.getData(city);
    const endTime = Date.now();

    const fromCache = endTime - startTime < 100;

    displayWeather(data, fromCache);
  } catch (error) {
    showError(error instanceof Error ? error.message : "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–≥–æ–¥—É");
  }
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 3: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –µ–¥–∏–Ω–∏—Ü –∏ –æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞</summary>

```typescript
let currentWeatherData: WeatherData | null = null;

function displayWeather(data: WeatherData, fromCache: boolean): void {
  currentWeatherData = data; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏

  // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
}

function setupUnitSwitch(): void {
  unitBtns.forEach((btn) => {
    btn.addEventListener("click", () => {
      const unit = (btn as HTMLButtonElement).dataset.unit as "celsius" | "fahrenheit";

      try {
        weatherService.units = unit;

        unitBtns.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");

        if (currentWeatherData) {
          displayWeather(currentWeatherData, false);
        }
      } catch (error) {
        showError(error instanceof Error ? error.message : "–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –µ–¥–∏–Ω–∏—Ü");
      }
    });
  });
}

function setupCacheClear(): void {
  clearCacheBtn.addEventListener("click", () => {
    weatherService.clearCache();
    cacheIndicator.style.display = "none";
    alert("‚úÖ –ö—ç—à —É—Å–ø–µ—à–Ω–æ –æ—á–∏—â–µ–Ω!");
  });
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 4: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</summary>

```typescript
// –í –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞ main.ts

searchBtn.addEventListener("click", fetchWeather);

cityInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    fetchWeather();
  }
});

setupUnitSwitch();
setupCacheClear();

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –ø–æ–≥–æ–¥—É –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
fetchWeather();
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:

1. –ó–∞–ø—É—Å—Ç–∏ dev-—Å–µ—Ä–≤–µ—Ä:
   ```bash
   npm run dev
   ```

2. –û—Ç–∫—Ä–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–æ–±—ã—á–Ω–æ `http://localhost:5173`)

3. –ü—Ä–æ–≤–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
   - ‚úÖ –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–≥–æ–¥—ã
   - ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ ¬∞C ‚Üî ¬∞F
   - ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫—ç—à–∞ (–ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ —Ç–æ–≥–æ –∂–µ –≥–æ—Ä–æ–¥–∞)
   - ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
   - ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (–≤–≤–µ–¥–∏ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≥–æ—Ä–æ–¥)

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –≥–æ—Ä–æ–¥–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –∫—ç—à–∞
- –ü—Ä–∏ –≤—Ç–æ—Ä–æ–º –∑–∞–ø—Ä–æ—Å–µ —Ç–æ–≥–æ –∂–µ –≥–æ—Ä–æ–¥–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è "–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞"
- –ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –µ–¥–∏–Ω–∏—Ü ‚Äî —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–∏ –≤–≤–æ–¥–µ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–¥–µ–ª–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ç—ã –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:

- [ ] –°–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∞—Å—Å—ã —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ –∏ –º–µ—Ç–æ–¥–∞–º–∏
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞: `public`, `private`, `protected`
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å `readonly` –¥–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –ø–æ–ª–µ–π
- [ ] –°–æ–∑–¥–∞–≤–∞—Ç—å –≥–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- [ ] –ü—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∏ –ø–æ–ª—è
- [ ] –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤ –∫–ª–∞—Å—Å–∞—Ö
- [ ] –ù–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å –∫–ª–∞—Å—Å—ã

---

## üîó –†–µ—Å—É—Ä—Å—ã

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [Classes](https://www.typescriptlang.org/docs/handbook/2/classes.html) ‚Äî –∫–ª–∞—Å—Å—ã –≤ TypeScript
- [Member Visibility](https://www.typescriptlang.org/docs/handbook/2/classes.html#member-visibility) ‚Äî –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞
- [Abstract Classes](https://www.typescriptlang.org/docs/handbook/2/classes.html#abstract-classes-and-members) ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã

**–°—Ç–∞—Ç—å–∏:**
- [TypeScript Access Modifiers](https://www.typescripttutorial.net/typescript-tutorial/typescript-access-modifiers/) ‚Äî –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –¥–æ—Å—Ç—É–ø–∞

**–í–∏–¥–µ–æ:**
- [–ö–ª–∞—Å—Å—ã –≤ TypeScript - WebDev —Å –Ω—É–ª—è. –ö–∞–Ω–∞–ª –ê–ª–µ–∫—Å–∞ –õ—É—â–µ–Ω–∫–æ](https://www.youtube.com/watch?v=5KMIGVnzINE)

---

‚è± **–í—Ä–µ–º—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ**: 3-4 —á–∞—Å–∞

---

**–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Ç–µ–º–∞:** [3.1.6 –§—É–Ω–∫—Ü–∏–∏ —Å —Ç–∏–ø–∞–º–∏](./3.1.6-–§—É–Ω–∫—Ü–∏–∏-—Å-—Ç–∏–ø–∞–º–∏.md)

**–°–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞:** [3.2.2 Generics](./3.2.2-Generics.md)

---

> ## üöÄ –£—Å–∫–æ—Ä—è–µ–º –∫–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
>
> **–ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ –¥–ª—è Fullstack-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**
>
> - 7 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, —á—Ç–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
> - –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –∫–æ–¥—É –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
> - –ú–∞–∫—Å–∏–º—É–º –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö
>
> [**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –º–µ–Ω—Ç–æ—Ä–∞—Ö, –æ–±—É—á–µ–Ω–∏–∏ –∏ –∫–µ–π—Å–∞—Ö ‚Üí**](https://xmentors.ru/dev)

# 3.1.5 –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã vs Type aliases

–í TypeScript –µ—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–∏—Å–∞—Ç—å —Ñ–æ—Ä–º—É –æ–±—ä–µ–∫—Ç–∞: **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** (interfaces) –∏ **type aliases**. –û–±–∞ —Ä–µ—à–∞—é—Ç –ø–æ—Ö–æ–∂–∏–µ –∑–∞–¥–∞—á–∏, –Ω–æ –∏–º–µ—é—Ç –≤–∞–∂–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è.

---

## üéØ –ß—Ç–æ —Ç—ã —É–∑–Ω–∞–µ—à—å

- –ö–∞–∫ –æ–±—ä—è–≤–ª—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ type aliases
- –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É `interface` –∏ `type`
- –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å interface, –∞ –∫–æ–≥–¥–∞ type
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —á–µ—Ä–µ–∑ `extends`
- Optional –∏ readonly —Å–≤–æ–π—Å—Ç–≤–∞
- –ò–Ω–¥–µ–∫—Å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π
- –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ (intersection) —Ç–∏–ø–æ–≤

---

## üìã –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (Interfaces)

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—ä–µ–∫—Ç–∞** ‚Äî –∫–∞–∫–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –º–µ—Ç–æ–¥—ã –æ–Ω –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å.

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```typescript
interface User {
  id: number;
  name: string;
  email: string;
}

const user: User = {
  id: 1,
  name: "–ò–≤–∞–Ω",
  email: "ivan@example.com"
};
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ß–∏—Ç–∞–±–µ–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å —á–µ—Ä–µ–∑ `extends`
- ‚úÖ –ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω—è—Ç—å (declaration merging)
- ‚úÖ –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –æ—à–∏–±–∫–∞–º–∏ (–±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è)

---

### Optional —Å–≤–æ–π—Å—Ç–≤–∞

–°–≤–æ–π—Å—Ç–≤–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º:

```typescript
interface WeatherData {
  city: string;
  temperature: number;
  humidity?: number;        // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
  windSpeed?: number;       // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
}

const weather: WeatherData = {
  city: "–ú–æ—Å–∫–≤–∞",
  temperature: 20
  // humidity –∏ windSpeed –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å
};
```

---

### Readonly —Å–≤–æ–π—Å—Ç–≤–∞

–°–≤–æ–π—Å—Ç–≤–æ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:

```typescript
interface Config {
  readonly apiKey: string;
  readonly apiUrl: string;
  timeout: number;
}

const config: Config = {
  apiKey: "abc123",
  apiUrl: "https://api.weather.com",
  timeout: 5000
};

config.timeout = 10000;      // ‚úÖ –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
config.apiKey = "new-key";   // ‚ùå –û—à–∏–±–∫–∞: Cannot assign to 'apiKey'
```

---

### –ú–µ—Ç–æ–¥—ã –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö

```typescript
interface Calculator {
  add(a: number, b: number): number;
  subtract(a: number, b: number): number;
}

const calc: Calculator = {
  add(a, b) {
    return a + b;
  },
  subtract(a, b) {
    return a - b;
  }
};
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –º–µ—Ç–æ–¥–æ–≤:**

```typescript
interface Calculator {
  add: (a: number, b: number) => number;
  subtract: (a: number, b: number) => number;
}
```

---

## üî§ Type Aliases

Type alias —Å–æ–∑–¥–∞—ë—Ç **–ø—Å–µ–≤–¥–æ–Ω–∏–º** –¥–ª—è —Ç–∏–ø–∞ ‚Äî –º–æ–∂–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ –æ–±—ä–µ–∫—Ç—ã, –Ω–æ –∏ –ø—Ä–∏–º–∏—Ç–∏–≤—ã, union, tuple –∏ —Ç.–¥.

### –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```typescript
type User = {
  id: number;
  name: string;
  email: string;
};

const user: User = {
  id: 1,
  name: "–ò–≤–∞–Ω",
  email: "ivan@example.com"
};
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å (–º–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –ª—é–±–æ–π —Ç–∏–ø)
- ‚úÖ Union –∏ intersection —Ç–∏–ø—ã
- ‚úÖ Tuple –∏ –ø—Ä–∏–º–∏—Ç–∏–≤—ã
- ‚úÖ Mapped –∏ conditional —Ç–∏–ø—ã (–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏—á–∏)

---

### Type aliases –¥–ª—è union —Ç–∏–ø–æ–≤

```typescript
type Status = "idle" | "loading" | "success" | "error";
type ID = number | string;
type Response = SuccessResponse | ErrorResponse;
```

> üí° **–í–∞–∂–Ω–æ:** –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–µ –º–æ–≥—É—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å union —Ç–∏–ø—ã ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π type alias.

---

### Type aliases –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤

```typescript
type Username = string;
type Temperature = number;
type IsActive = boolean;

let username: Username = "–ò–≤–∞–Ω";
let temp: Temperature = 20;
```

> üí° –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏–∫–∏, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π —É–º–µ—Ä–µ–Ω–Ω–æ ‚Äî –∏–∑–±—ã—Ç–æ–∫ –ø—Å–µ–≤–¥–æ–Ω–∏–º–æ–≤ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∫–æ–¥.

---

## ‚öñÔ∏è –†–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É Interface –∏ Type

| –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å | Interface | Type Alias |
|-------------|-----------|------------|
| –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ | ‚úÖ | ‚úÖ |
| Union —Ç–∏–ø—ã | ‚ùå | ‚úÖ |
| Tuple —Ç–∏–ø—ã | ‚ùå | ‚úÖ |
| –ü—Ä–∏–º–∏—Ç–∏–≤—ã | ‚ùå | ‚úÖ |
| –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ (`extends`) | ‚úÖ | ‚ùå (–∏—Å–ø–æ–ª—å–∑—É–π `&`) |
| Declaration Merging | ‚úÖ | ‚ùå |
| Computed properties | ‚ùå | ‚úÖ |
| Mapped Types | ‚ùå | ‚úÖ |

---

### –ü—Ä–∏–º–µ—Ä: Union —Ç–∏–ø—ã (—Ç–æ–ª—å–∫–æ type)

```typescript
// ‚úÖ Type alias
type Result = Success | Error;

// ‚ùå Interface –Ω–µ –º–æ–∂–µ—Ç
interface Result = Success | Error; // –û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
```

---

### –ü—Ä–∏–º–µ—Ä: Tuple —Ç–∏–ø—ã (—Ç–æ–ª—å–∫–æ type)

```typescript
// ‚úÖ Type alias
type Coordinates = [number, number];

// ‚ùå Interface –Ω–µ –º–æ–∂–µ—Ç –æ–ø–∏—Å–∞—Ç—å tuple –Ω–∞–ø—Ä—è–º—É—é
```

---

## üîó –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ (extends)

–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å, —Å–æ–∑–¥–∞–≤–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—é —Ç–∏–ø–æ–≤:

```typescript
interface Animal {
  name: string;
  age: number;
}

interface Dog extends Animal {
  breed: string;
  bark(): void;
}

const dog: Dog = {
  name: "–®–∞—Ä–∏–∫",
  age: 3,
  breed: "–õ–∞–±—Ä–∞–¥–æ—Ä",
  bark() {
    console.log("–ì–∞–≤!");
  }
};
```

**–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ:**

```typescript
interface Flyable {
  fly(): void;
}

interface Swimmable {
  swim(): void;
}

interface Duck extends Flyable, Swimmable {
  quack(): void;
}
```

---

## üîÄ –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (Intersection)

Type aliases –∏—Å–ø–æ–ª—å–∑—É—é—Ç `&` –¥–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Ç–∏–ø–æ–≤:

```typescript
type Person = {
  name: string;
  age: number;
};

type Employee = {
  employeeId: number;
  department: string;
};

type Worker = Person & Employee;

const worker: Worker = {
  name: "–ò–≤–∞–Ω",
  age: 30,
  employeeId: 12345,
  department: "IT"
};
```

**Interface vs Type –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**

```typescript
// Interface
interface Dog extends Animal {
  breed: string;
}

// Type (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç)
type Dog = Animal & {
  breed: string;
};
```

---

## üîë –ò–Ω–¥–µ–∫—Å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–≥–¥–∞ **–∫–ª—é—á–∏ –æ–±—ä–µ–∫—Ç–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã –∑–∞—Ä–∞–Ω–µ–µ**, –Ω–æ –∏–∑–≤–µ—Å—Ç–µ–Ω –∏—Ö —Ç–∏–ø.

### –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö

```typescript
interface Dictionary {
  [key: string]: string;
}

const translations: Dictionary = {
  hello: "–ø—Ä–∏–≤–µ—Ç",
  goodbye: "–ø–æ–∫–∞",
  thanks: "—Å–ø–∞—Å–∏–±–æ"
};

translations["welcome"] = "–¥–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å"; // ‚úÖ
translations["count"] = 42; // ‚ùå –û—à–∏–±–∫–∞: Type 'number' is not assignable
```

---

### –í type aliases

```typescript
type WeatherCache = {
  [city: string]: number;
};

const cache: WeatherCache = {
  "–ú–æ—Å–∫–≤–∞": 20,
  "–ö–∞–∑–∞–Ω—å": 18,
  "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥": 15
};

cache["–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫"] = 10; // ‚úÖ
```

---

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∏–∑–≤–µ—Å—Ç–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏

```typescript
interface User {
  id: number;
  name: string;
  [key: string]: any; // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞
}

const user: User = {
  id: 1,
  name: "–ò–≤–∞–Ω",
  email: "ivan@example.com",  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
  age: 25                      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
};
```

> ‚ö†Ô∏è **–û—Å—Ç–æ—Ä–æ–∂–Ω–æ:** –ò–Ω–¥–µ–∫—Å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã —Å `any` –æ—Å–ª–∞–±–ª—è—é—Ç —Ç–∏–ø–∏–∑–∞—Ü–∏—é. –ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ.

---

## üìä –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Interface vs Type

### –ò—Å–ø–æ–ª—å–∑—É–π Interface –∫–æ–≥–¥–∞:

‚úÖ –û–ø–∏—Å—ã–≤–∞–µ—à—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –æ–±—ä–µ–∫—Ç–æ–≤ <br/>
‚úÖ –°–æ–∑–¥–∞—ë—à—å –ø—É–±–ª–∏—á–Ω—ã–µ API (–±–∏–±–ª–∏–æ—Ç–µ–∫–∏) <br/>
‚úÖ –ù—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `extends` <br/>
‚úÖ –†–∞–±–æ—Ç–∞–µ—à—å —Å –∫–ª–∞—Å—Å–∞–º–∏

**–ü—Ä–∏–º–µ—Ä:**
```typescript
interface ApiResponse {
  status: number;
  data: any;
}

interface SuccessResponse extends ApiResponse {
  data: WeatherData;
}
```

---

### –ò—Å–ø–æ–ª—å–∑—É–π Type –∫–æ–≥–¥–∞:

‚úÖ –ù—É–∂–Ω—ã Union –∏–ª–∏ Intersection —Ç–∏–ø—ã <br/>
‚úÖ –û–ø–∏—Å—ã–≤–∞–µ—à—å –ø—Ä–∏–º–∏—Ç–∏–≤—ã, tuple, —Ñ—É–Ω–∫—Ü–∏–∏ <br/>
‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—à—å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã (Mapped, Conditional) <br/>
‚úÖ –°–æ–∑–¥–∞—ë—à—å —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ç–∏–ø—ã

**–ü—Ä–∏–º–µ—Ä:**
```typescript
type Status = "idle" | "loading" | "success" | "error";
type Coordinates = [lat: number, lon: number];
type ApiResult = SuccessResponse | ErrorResponse;
```

---

## üß© –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ API –æ—Ç–≤–µ—Ç–∞

```typescript
interface BaseResponse {
  status: number;
  timestamp: number;
}

interface SuccessResponse extends BaseResponse {
  data: WeatherData;
}

interface ErrorResponse extends BaseResponse {
  error: string;
  message: string;
}

type ApiResponse = SuccessResponse | ErrorResponse;
```

---

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```typescript
type Environment = "development" | "production" | "test";
type LogLevel = "debug" | "info" | "warn" | "error";

interface AppConfig {
  readonly apiUrl: string;
  readonly apiKey: string;
  environment: Environment;
  logLevel: LogLevel;
  timeout?: number;
}

const config: AppConfig = {
  apiUrl: "https://api.weather.com",
  apiKey: "abc123",
  environment: "development",
  logLevel: "debug"
};
```

---

## üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.1.5.1: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è API –¥–∞–Ω–Ω—ã—Ö

–¢–∏–ø–∏–∑–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥–Ω–æ–≥–æ API. –°–æ–∑–¥–∞–¥–∏–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞.

### –®–∞–≥ 0: –°–æ–∑–¥–∞–π —Ñ–∞–π–ª —Ç–∏–ø–æ–≤

–°–æ–∑–¥–∞–π `src/types/weather.ts`:

```typescript
// src/types/weather.ts

export interface WeatherData {
  city;
  temperature;
  feelsLike;
  humidity;
  pressure;
  windSpeed;
  description;
  icon;
}

export interface CurrentWeather {
  location;
  current;
  forecast;
}

export interface ForecastDay {
  date;
  maxTemp;
  minTemp;
  condition;
}
```

---

### –ó–∞–¥–∞–Ω–∏—è

**1. –¢–∏–ø–∏–∑–∏—Ä—É–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å WeatherData:**
   - `city` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (—Å—Ç—Ä–æ–∫–∞)
   - `temperature` ‚Äî —Ç–µ–∫—É—â–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (—á–∏—Å–ª–æ)
   - `feelsLike` ‚Äî –æ—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫ (—á–∏—Å–ª–æ)
   - `humidity` ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (—á–∏—Å–ª–æ)
   - `pressure` ‚Äî –¥–∞–≤–ª–µ–Ω–∏–µ (—á–∏—Å–ª–æ)
   - `windSpeed` ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ (—á–∏—Å–ª–æ)
   - `description` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–≥–æ–¥—ã (—Å—Ç—Ä–æ–∫–∞)
   - `icon` ‚Äî –∫–æ–¥ –∏–∫–æ–Ω–∫–∏ (—Å—Ç—Ä–æ–∫–∞)

**2. –¢–∏–ø–∏–∑–∏—Ä—É–π CurrentWeather:**
   - `location` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–æ–∫–∞—Ü–∏–∏ (—Å—Ç—Ä–æ–∫–∞)
   - `current` ‚Äî —Ç–µ–∫—É—â–∞—è –ø–æ–≥–æ–¥–∞ (–æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ WeatherData)
   - `forecast` ‚Äî –ø—Ä–æ–≥–Ω–æ–∑ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π (–º–∞—Å—Å–∏–≤ ForecastDay), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**3. –¢–∏–ø–∏–∑–∏—Ä—É–π ForecastDay:**
   - `date` ‚Äî –¥–∞—Ç–∞ (—Å—Ç—Ä–æ–∫–∞)
   - `maxTemp` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (—á–∏—Å–ª–æ)
   - `minTemp` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (—á–∏—Å–ª–æ)
   - `condition` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–≥–æ–¥—ã (—Å—Ç—Ä–æ–∫–∞)

**4. –ò—Å–ø–æ–ª—å–∑—É–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤ API –º–æ–¥—É–ª–µ:**
   - –û—Ç–∫—Ä–æ–π `src/modules/api/weather.ts`
   - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
   - –¢–∏–ø–∏–∑–∏—Ä—É–π —Ñ—É–Ω–∫—Ü–∏—é `fetchWeather` ‚Äî –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Promise<CurrentWeather>`

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞

–°–æ–∑–¥–∞–π `src/test-types.ts`:

```typescript
import type { WeatherData, CurrentWeather, ForecastDay } from './types/weather.js';

const weather: WeatherData = {
  city: "–ú–æ—Å–∫–≤–∞",
  temperature: 20,
  feelsLike: 18,
  humidity: 65,
  pressure: 1013,
  windSpeed: 5,
  description: "–Ø—Å–Ω–æ",
  icon: "01d"
};

const forecast: ForecastDay[] = [
  { date: "2024-02-14", maxTemp: 22, minTemp: 15, condition: "–°–æ–ª–Ω–µ—á–Ω–æ" },
  { date: "2024-02-15", maxTemp: 18, minTemp: 12, condition: "–û–±–ª–∞—á–Ω–æ" }
];

console.log("–¢–∏–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!");
```

```bash
npm run check  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ‚úì Found 0 errors
```

---

### üí° –ï—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: WeatherData</summary>

```typescript
export interface WeatherData {
  city: string;
  temperature: number;
  feelsLike: number;
  humidity: number;
  pressure: number;
  windSpeed: number;
  description: string;
  icon: string;
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: CurrentWeather</summary>

```typescript
export interface CurrentWeather {
  location: string;
  current: WeatherData;
  forecast?: ForecastDay[];
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ API</summary>

```typescript
// src/modules/api/weather.ts
import type { CurrentWeather } from '../types/weather.js';

export async function fetchWeather(city: string): Promise<CurrentWeather> {
  const response = await fetch(`/api/weather?city=${city}`);
  const data = await response.json();
  return data;
}
```
</details>

---

## üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.1.5.2: Type aliases –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π

–°–æ–∑–¥–∞–¥–∏–º —Ç–∏–ø—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –®–∞–≥ 0: –î–æ–ø–æ–ª–Ω–∏ —Ñ–∞–π–ª —Ç–∏–ø–æ–≤

–û—Ç–∫—Ä–æ–π `src/types/weather.ts` –∏ –¥–æ–±–∞–≤—å –≤ –∫–æ–Ω–µ—Ü:

```typescript
// src/types/weather.ts

export type LoadingState;

export type TemperatureUnit;

export type ErrorCode;

export type AppState = {
  status;
  currentCity;
  weatherData;
  unit;
  error;
};
```

---

### –ó–∞–¥–∞–Ω–∏—è

**1. –°–æ–∑–¥–∞–π type aliases –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π:**
   - `LoadingState` ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–Ω–∏–º –∏–∑: "idle", "loading", "success", "error"
   - `TemperatureUnit` ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å: "celsius" –∏–ª–∏ "fahrenheit"
   - `ErrorCode` ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å —á–∏—Å–ª–æ–º: 400, 404, 500, 503

**2. –¢–∏–ø–∏–∑–∏—Ä—É–π AppState:**
   - `status` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ (LoadingState)
   - `currentCity` ‚Äî —Ç–µ–∫—É—â–∏–π –≥–æ—Ä–æ–¥ (—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null)
   - `weatherData` ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã (WeatherData –∏–ª–∏ null)
   - `unit` ‚Äî –µ–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (TemperatureUnit)
   - `error` ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (—Å—Ç—Ä–æ–∫–∞ –∏–ª–∏ null), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

**3. –ò—Å–ø–æ–ª—å–∑—É–π —Ç–∏–ø—ã –≤ app.ts:**
   - –û—Ç–∫—Ä–æ–π `src/app.ts`
   - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π —Ç–∏–ø—ã –∏–∑ `./types/weather.js`
   - –°–æ–∑–¥–∞–π –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `appState: AppState` —Å –Ω–∞—á–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞

```typescript
// src/app.ts
import type { AppState, LoadingState, TemperatureUnit } from './types/weather.js';

const appState: AppState = {
  status: "idle",
  currentCity: null,
  weatherData: null,
  unit: "celsius"
};

function updateStatus(newStatus: LoadingState) {
  appState.status = newStatus;
}

updateStatus("loading");  // ‚úÖ
updateStatus("pending");  // ‚ùå –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
```

```bash
npm run check
```

---

### üí° –ï—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: type aliases</summary>

```typescript
export type LoadingState = "idle" | "loading" | "success" | "error";
export type TemperatureUnit = "celsius" | "fahrenheit";
export type ErrorCode = 400 | 404 | 500 | 503;
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: AppState</summary>

```typescript
export type AppState = {
  status: LoadingState;
  currentCity: string | null;
  weatherData: WeatherData | null;
  unit: TemperatureUnit;
  error?: string | null;
};
```
</details>

---

## üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.1.5.3: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤

–°–æ–∑–¥–∞–¥–∏–º –±–∞–∑–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è API –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä–∏–º –µ–≥–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤.

### –®–∞–≥ 0: –î–æ–ø–æ–ª–Ω–∏ —Ñ–∞–π–ª —Ç–∏–ø–æ–≤

–û—Ç–∫—Ä–æ–π `src/types/weather.ts` –∏ –¥–æ–±–∞–≤—å:

```typescript
// src/types/weather.ts

export interface BaseApiResponse {
  status;
  timestamp;
  requestId;
}

export interface WeatherApiSuccess {
  data;
}

export interface WeatherApiError {
  error;
  message;
}

export type WeatherApiResponse;
```

---

### –ó–∞–¥–∞–Ω–∏—è

**1. –¢–∏–ø–∏–∑–∏—Ä—É–π BaseApiResponse:**
   - `status` ‚Äî HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥ (—á–∏—Å–ª–æ)
   - `timestamp` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–µ—Ç–∫–∞ (—á–∏—Å–ª–æ)
   - `requestId` ‚Äî ID –∑–∞–ø—Ä–æ—Å–∞ (—Å—Ç—Ä–æ–∫–∞)

**2. –†–∞—Å—à–∏—Ä—å BaseApiResponse –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:**
   - `WeatherApiSuccess` –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—à–∏—Ä—è—Ç—å `BaseApiResponse`
   - –î–æ–±–∞–≤—å —Å–≤–æ–π—Å—Ç–≤–æ `data` —Ç–∏–ø–∞ `CurrentWeather`

**3. –†–∞—Å—à–∏—Ä—å BaseApiResponse –¥–ª—è –æ—Ç–≤–µ—Ç–∞ —Å –æ—à–∏–±–∫–æ–π:**
   - `WeatherApiError` –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—à–∏—Ä—è—Ç—å `BaseApiResponse`
   - –î–æ–±–∞–≤—å `error` ‚Äî –∫–æ–¥ –æ—à–∏–±–∫–∏ (ErrorCode)
   - –î–æ–±–∞–≤—å `message` ‚Äî —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ (—Å—Ç—Ä–æ–∫–∞)

**4. –°–æ–∑–¥–∞–π union —Ç–∏–ø:**
   - `WeatherApiResponse` ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–±–æ `WeatherApiSuccess`, –ª–∏–±–æ `WeatherApiError`

**5. –û–±–Ω–æ–≤–∏ API —Ñ—É–Ω–∫—Ü–∏—é:**
   - –§—É–Ω–∫—Ü–∏—è `fetchWeather` –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `Promise<WeatherApiResponse>`
   - –î–æ–±–∞–≤—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ–±–æ–∏—Ö —Å–ª—É—á–∞–µ–≤ (success –∏ error)

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞

```typescript
// src/modules/api/weather.ts
import type { WeatherApiResponse } from '../types/weather.js';

export async function fetchWeather(city: string): Promise<WeatherApiResponse> {
  const requestId = crypto.randomUUID();
  const timestamp = Date.now();

  try {
    const response = await fetch(`/api/weather?city=${city}`);

    if (!response.ok) {
      return {
        status: response.status,
        timestamp,
        requestId,
        error: response.status,
        message: "Failed to fetch weather"
      };
    }

    const data = await response.json();

    return {
      status: 200,
      timestamp,
      requestId,
      data
    };
  } catch (error) {
    return {
      status: 500,
      timestamp,
      requestId,
      error: 500,
      message: error.message
    };
  }
}
```

```bash
npm run check
```

---

### üí° –ï—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: BaseApiResponse</summary>

```typescript
export interface BaseApiResponse {
  status: number;
  timestamp: number;
  requestId: string;
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤</summary>

```typescript
export interface WeatherApiSuccess extends BaseApiResponse {
  data: CurrentWeather;
}

export interface WeatherApiError extends BaseApiResponse {
  error: ErrorCode;
  message: string;
}

export type WeatherApiResponse = WeatherApiSuccess | WeatherApiError;
```
</details>

---

## üîß –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.1.5.4: –ò–Ω–¥–µ–∫—Å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –¥–ª—è –∫—ç—à–∞

–°–æ–∑–¥–∞–¥–∏–º —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—ç—à –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–≥–æ–¥—ã.

### –®–∞–≥ 0: –°–æ–∑–¥–∞–π –º–æ–¥—É–ª—å –∫—ç—à–∞

–°–æ–∑–¥–∞–π `src/modules/utils/cache.ts`:

```typescript
// src/modules/utils/cache.ts

type WeatherCache;

type CacheEntry;

const cache = {};

export function getCached(city) {
  const entry = cache[city];

  if (!entry) return null;

  const now = Date.now();
  const age = now - entry.timestamp;
  const maxAge = 10 * 60 * 1000;

  if (age > maxAge) {
    delete cache[city];
    return null;
  }

  return entry.data;
}

export function setCache(city, data) {
  cache[city] = {
    data,
    timestamp: Date.now()
  };
}

export function clearCache() {
  for (const key in cache) {
    delete cache[key];
  }
}
```

---

### –ó–∞–¥–∞–Ω–∏—è

**1. –°–æ–∑–¥–∞–π —Ç–∏–ø CacheEntry:**
   - `data` ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã (WeatherData)
   - `timestamp` ‚Äî –≤—Ä–µ–º—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (—á–∏—Å–ª–æ)

**2. –°–æ–∑–¥–∞–π —Ç–∏–ø WeatherCache —Å –∏–Ω–¥–µ–∫—Å–Ω–æ–π —Å–∏–≥–Ω–∞—Ç—É—Ä–æ–π:**
   - –ö–ª—é—á ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ (—Å—Ç—Ä–æ–∫–∞)
   - –ó–Ω–∞—á–µ–Ω–∏–µ ‚Äî –∑–∞–ø–∏—Å—å –∫—ç—à–∞ (CacheEntry)

**3. –¢–∏–ø–∏–∑–∏—Ä—É–π –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é cache:**
   - –¢–∏–ø: `WeatherCache`
   - –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç

**4. –¢–∏–ø–∏–∑–∏—Ä—É–π —Ñ—É–Ω–∫—Ü–∏–∏:**
   - `getCached(city)` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã –∏–ª–∏ null
   - `setCache(city, data)` ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≥–æ—Ä–æ–¥ –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã, –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
   - `clearCache()` ‚Äî –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç

**5. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π –∫—ç—à –≤ API –º–æ–¥—É–ª—å:**

–û—Ç–∫—Ä–æ–π `src/modules/api/weather.ts` –∏ –¥–æ–±–∞–≤—å –ª–æ–≥–∏–∫—É –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:

   - **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π —Ñ—É–Ω–∫—Ü–∏–∏ –∫—ç—à–∞** –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞
   - **–ü–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ API:**
     - –ü—Ä–æ–≤–µ—Ä—å, –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ –∫—ç—à–µ –¥–ª—è —ç—Ç–æ–≥–æ –≥–æ—Ä–æ–¥–∞
     - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî –≤–µ—Ä–Ω–∏ –∏—Ö —Å—Ä–∞–∑—É, –æ–±–µ—Ä–Ω—É–≤ –≤ `WeatherApiResponse`
     - –î–æ–±–∞–≤—å `console.log` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏: "‚úÖ –ö—ç—à: –¥–∞–Ω–Ω—ã–µ –¥–ª—è {–≥–æ—Ä–æ–¥} –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞"
   - **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ API:**
     - –°–æ—Ö—Ä–∞–Ω–∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–≥–æ–¥—ã –≤ –∫—ç—à
     - –î–æ–±–∞–≤—å `console.log`: "üåê API: –¥–∞–Ω–Ω—ã–µ –¥–ª—è {–≥–æ—Ä–æ–¥} —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∫—ç—à"
   - **–í–∞–∂–Ω–æ:** –°–æ—Ö—Ä–∞–Ω—è–π –≤ –∫—ç—à —Ç–æ–ª—å–∫–æ `WeatherData`, –∞ –Ω–µ –≤–µ—Å—å `CurrentWeather`

**6. –ü—Ä–æ–≤–µ—Ä—å —Ä–∞–±–æ—Ç—É –∫—ç—à–∞:**
   - –ó–∞–ø—Ä–æ—Å–∏ –ø–æ–≥–æ–¥—É –¥–ª—è –æ–¥–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –¥–≤–∞–∂–¥—ã
   - –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "üåê API"
   - –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "‚úÖ –ö—ç—à"

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–≥–æ –∫—ç—à–∞

```typescript
// src/test-cache.ts
import { getCached, setCache, clearCache } from './modules/utils/cache.js';
import type { WeatherData } from './types/weather.js';

const mockData: WeatherData = {
  city: "–ú–æ—Å–∫–≤–∞",
  temperature: 20,
  feelsLike: 18,
  humidity: 65,
  pressure: 1013,
  windSpeed: 5,
  description: "–Ø—Å–Ω–æ",
  icon: "01d"
};

setCache("–ú–æ—Å–∫–≤–∞", mockData);

const cached = getCached("–ú–æ—Å–∫–≤–∞");
console.log("–ö—ç—à —Ä–∞–±–æ—Ç–∞–µ—Ç:", cached !== null);

clearCache();

const afterClear = getCached("–ú–æ—Å–∫–≤–∞");
console.log("–ö—ç—à –æ—á–∏—â–µ–Ω:", afterClear === null);
```

```bash
npm run build && node dist/test-cache.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–ö—ç—à —Ä–∞–±–æ—Ç–∞–µ—Ç: true
–ö—ç—à –æ—á–∏—â–µ–Ω: true
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API

–°–æ–∑–¥–∞–π `src/test-api-cache.ts` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –∫—ç—à–∞ —Å API:

```typescript
// src/test-api-cache.ts
import { fetchWeather } from './modules/api/weather.js';

async function testApiCache() {
  console.log("=== –¢–µ—Å—Ç –∫—ç—à–∞ –≤ API ===\n");

  console.log("1Ô∏è‚É£ –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ú–æ—Å–∫–≤—ã:");
  await fetchWeather("–ú–æ—Å–∫–≤–∞");

  console.log("\n2Ô∏è‚É£ –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ú–æ—Å–∫–≤—ã (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑ –∫—ç—à–∞):");
  await fetchWeather("–ú–æ—Å–∫–≤–∞");

  console.log("\n3Ô∏è‚É£ –ó–∞–ø—Ä–æ—Å –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –≥–æ—Ä–æ–¥–∞:");
  await fetchWeather("–ö–∞–∑–∞–Ω—å");

  console.log("\n‚úÖ –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤—ã—à–µ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å 'üåê API' –∏ '‚úÖ –ö—ç—à'");
}

testApiCache();
```

**–ó–∞–ø—É—Å—Ç–∏:**
```bash
npm run build && node dist/test-api-cache.js
```

**–û–∂–∏–¥–∞–µ–º—ã–µ –ª–æ–≥–∏:**
```
1Ô∏è‚É£ –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ú–æ—Å–∫–≤—ã:
üåê API: –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ú–æ—Å–∫–≤—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∫—ç—à

2Ô∏è‚É£ –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ú–æ—Å–∫–≤—ã (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑ –∫—ç—à–∞):
‚úÖ –ö—ç—à: –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ú–æ—Å–∫–≤—ã –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞

3Ô∏è‚É£ –ó–∞–ø—Ä–æ—Å –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –≥–æ—Ä–æ–¥–∞:
üåê API: –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ö–∞–∑–∞–Ω—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∫—ç—à
```

> üí° –ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—à—å –ª–æ–≥–æ–≤ –∫—ç—à–∞ ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª —Ñ—É–Ω–∫—Ü–∏–∏ –∫—ç—à–∞ –≤ `weather.ts`

---

### üí° –ï—Å–ª–∏ –∑–∞—Å—Ç—Ä—è–ª

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: —Ç–∏–ø—ã –¥–ª—è –∫—ç—à–∞</summary>

```typescript
import type { WeatherData } from '../../types/weather.js';

type CacheEntry = {
  data: WeatherData;
  timestamp: number;
};

type WeatherCache = {
  [city: string]: CacheEntry;
};

const cache: WeatherCache = {};
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: —Ç–∏–ø–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π</summary>

```typescript
export function getCached(city: string): WeatherData | null {
  const entry = cache[city];
  if (!entry) return null;

  const now = Date.now();
  const age = now - entry.timestamp;
  const maxAge = 10 * 60 * 1000;

  if (age > maxAge) {
    delete cache[city];
    return null;
  }

  return entry.data;
}

export function setCache(city: string, data: WeatherData): void {
  cache[city] = {
    data,
    timestamp: Date.now()
  };
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏–º–ø–æ—Ä—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞</summary>

```typescript
// src/modules/api/weather.ts
import { getCached, setCache } from '../utils/cache.js';

export async function fetchWeather(city: string): Promise<WeatherApiResponse> {
  // 1. –ü—Ä–æ–≤–µ—Ä—å –∫—ç—à
  const cached = getCached(city);

  if (cached) {
    console.log(`‚úÖ –ö—ç—à: –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city} –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞`);
    // –í–µ—Ä–Ω–∏ cached, –æ–±–µ—Ä–Ω—É–≤ –≤ WeatherApiResponse
  }

  console.log(`üåê API: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city}`);

  // 2. –¢–≤–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –∑–∞–ø—Ä–æ—Å–∞...
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –≤–æ–∑–≤—Ä–∞—Ç –∏–∑ –∫—ç—à–∞</summary>

```typescript
if (cached) {
  console.log(`‚úÖ –ö—ç—à: –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city} –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –∫—ç—à–∞`);
  return {
    status: 200,
    timestamp: Date.now(),
    requestId: crypto.randomUUID(),
    data: {
      location: city,
      current: cached  // cached —É–∂–µ —Ç–∏–ø–∞ WeatherData
    }
  };
}
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à –ø–æ—Å–ª–µ API</summary>

```typescript
// –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ—Ç API
if (response.ok) {
  const weatherData = await response.json();

  // –°–æ—Ö—Ä–∞–Ω–∏ –¢–û–õ–¨–ö–û current –≤ –∫—ç—à (—Ç–∏–ø–∞ WeatherData)
  setCache(city, weatherData.current);
  console.log(`üåê API: –¥–∞–Ω–Ω—ã–µ –¥–ª—è ${city} —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –∫—ç—à`);

  return {
    status: 200,
    timestamp: Date.now(),
    requestId: crypto.randomUUID(),
    data: weatherData
  };
}
```
</details>

---

## ‚ùå –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞ 1: –ü–æ–ø—ã—Ç–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å interface –¥–ª—è union

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
interface Status = "idle" | "loading"; // ‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
type Status = "idle" | "loading"; // ‚úÖ
```

---

### –û—à–∏–±–∫–∞ 2: –ó–∞–±—ã–ª optional (?) –¥–ª—è –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
interface User {
  id: number;
  name: string;
  email: string;
}

const user: User = {
  id: 1,
  name: "–ò–≤–∞–Ω"
  // ‚ùå –û—à–∏–±–∫–∞: Property 'email' is missing
};
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
interface User {
  id: number;
  name: string;
  email?: string;
}

const user: User = {
  id: 1,
  name: "–ò–≤–∞–Ω"  // ‚úÖ email –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω
};
```

---

### –û—à–∏–±–∫–∞ 3: –ò–∑–º–µ–Ω–µ–Ω–∏–µ readonly —Å–≤–æ–π—Å—Ç–≤–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
interface Config {
  readonly apiKey: string;
}

const config: Config = { apiKey: "abc123" };
config.apiKey = "new-key"; // ‚ùå Cannot assign to 'apiKey'
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å ‚Äî –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π readonly
interface Config {
  apiKey: string;
}

// –ò–ª–∏ —Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç
const newConfig: Config = { apiKey: "new-key" };
```

---

### –û—à–∏–±–∫–∞ 4: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
interface Cache {
  [key: string]: number;
}

const cache: Cache = {
  –º–æ—Å–∫–≤–∞: 20,
  –∫–∞–∑–∞–Ω—å: "18" // ‚ùå Type 'string' is not assignable to type 'number'
};
```

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
interface Cache {
  [key: string]: number | string;
}

// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–∏–ø
interface Cache {
  [key: string]: number;
}

const cache: Cache = {
  –º–æ—Å–∫–≤–∞: 20,
  –∫–∞–∑–∞–Ω—å: 18  // ‚úÖ
};
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–¥–µ–ª–∞

–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —Ç–µ–º—ã —Ç—ã –¥–æ–ª–∂–µ–Ω:

- [ ] –ü–æ–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É `interface` –∏ `type`
- [ ] –£–º–µ—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å type aliases –¥–ª—è union –∏ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
- [ ] –ó–Ω–∞—Ç—å –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å interface, –∞ –∫–æ–≥–¥–∞ type
- [ ] –†–∞—Å—à–∏—Ä—è—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —á–µ—Ä–µ–∑ `extends`
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å `?` –¥–ª—è optional —Å–≤–æ–π—Å—Ç–≤
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `readonly` –¥–ª—è –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã—Ö –ø–æ–ª–µ–π
- [ ] –°–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫–ª—é—á–µ–π
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å intersection —Ç–∏–ø—ã —Å `&`

---

## üîó –†–µ—Å—É—Ä—Å—ã

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [Interfaces](https://www.typescriptlang.org/docs/handbook/2/objects.html) ‚Äî –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- [Type Aliases](https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#type-aliases) ‚Äî –ø—Å–µ–≤–¥–æ–Ω–∏–º—ã —Ç–∏–ø–æ–≤
- [Extending Types](https://www.typescriptlang.org/docs/handbook/2/objects.html#extending-types) ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

**–°—Ç–∞—Ç—å–∏:**
- [Interface vs Type](https://stackoverflow.com/questions/37233735/interfaces-vs-types-in-typescript) ‚Äî –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
- [TypeScript: Index Signatures](https://dmitripavlutin.com/typescript-index-signatures/) ‚Äî –∏–Ω–¥–µ–∫—Å–Ω—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã

---

‚è± **–í—Ä–µ–º—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ**: 2-3 —á–∞—Å–∞

---

**–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Ç–µ–º–∞:** [3.1.4 –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã](./3.1.4-–ë–∞–∑–æ–≤—ã–µ-—Ç–∏–ø—ã.md)

**–°–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞:** [3.1.6 –§—É–Ω–∫—Ü–∏–∏ —Å —Ç–∏–ø–∞–º–∏](./3.1.6-–§—É–Ω–∫—Ü–∏–∏-—Å-—Ç–∏–ø–∞–º–∏.md)

---

> ## üöÄ –£—Å–∫–æ—Ä—è–µ–º –∫–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
>
> **–ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ –¥–ª—è Fullstack-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**
>
> - 7 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, —á—Ç–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
> - –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –∫–æ–¥—É –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
> - –ú–∞–∫—Å–∏–º—É–º –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö
>
> [**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –º–µ–Ω—Ç–æ—Ä–∞—Ö, –æ–±—É—á–µ–Ω–∏–∏ –∏ –∫–µ–π—Å–∞—Ö ‚Üí**](https://xmentors.ru/dev)

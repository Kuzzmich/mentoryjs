# 3.2.7 Template Literal Types

Template Literal Types ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø–æ —à–∞–±–ª–æ–Ω—É. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç TypeScript –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´—ç—Ç–æ —Å—Ç—Ä–æ–∫–∞¬ª, –∞ ¬´—Å—Ç—Ä–æ–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞¬ª ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, `"get${string}"` –∏–ª–∏ `"weather/london"`. –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ç–∞–∫–æ–π –∂–µ, –∫–∞–∫ —É template literals –≤ JavaScript, –Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤.

---

## üéØ –ß—Ç–æ —Ç—ã —É–∑–Ω–∞–µ—à—å

- –°–∏–Ω—Ç–∞–∫—Å–∏—Å `` `${Type}` `` –∏ –∫–∞–∫ TypeScript —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —à–∞–±–ª–æ–Ω—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏–µ union-—Ç–∏–ø–æ–≤ –≤ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã: `Uppercase`, `Lowercase`, `Capitalize`, `Uncapitalize`
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Template Literal Types —Å Mapped Types –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–π
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã: event-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, API-–º–∞—Ä—à—Ä—É—Ç—ã, i18n-–∫–ª—é—á–∏

---

## üìñ –¢–µ–æ—Ä–∏—è

### –ó–∞—á–µ–º –Ω—É–∂–Ω—ã Template Literal Types?

–û–±—ã—á–Ω—ã–π —Ç–∏–ø `string` —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–∏–π ‚Äî –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª—é–±—É—é —Å—Ç—Ä–æ–∫—É. –ù–æ —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫—É –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞: –∏–º—è —Å–æ–±—ã—Ç–∏—è –≤–∏–¥–∞ `"on${string}"`, CSS-–∫–ª–∞—Å—Å –≤–∏–¥–∞ `"weather-${string}"`, API-–º–∞—Ä—à—Ä—É—Ç –≤–∏–¥–∞ `"/api/weather/${string}"`. –†–∞–Ω—å—à–µ —ç—Ç–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å ‚Äî –ø—Ä–æ—Å—Ç–æ `string`. –° Template Literal Types TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç:

```typescript
// ‚ùå –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —á—Ç–æ —É–≥–æ–¥–Ω–æ
function on(event: string, handler: () => void) {}

on("click", () => {});     // ‚úÖ
on("clck", () => {});      // ‚úÖ ‚Äî –æ–ø–µ—á–∞—Ç–∫–∞, –Ω–æ TypeScript –Ω–µ –∑–Ω–∞–µ—Ç

// ‚úÖ –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ –≤–∏–¥–∞ "on${string}"
type EventHandler = `on${string}`;

function on(event: EventHandler, handler: () => void) {}

on("onclick", () => {});   // ‚úÖ
on("click", () => {});     // ‚ùå TypeScript Error ‚Äî –Ω–µ—Ç –ø—Ä–µ—Ñ–∏–∫—Å–∞ "on"
```

---

## 1. –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

```typescript
type Greeting = `Hello, ${string}!`;

const a: Greeting = "Hello, world!";   // ‚úÖ
const b: Greeting = "Hello, TypeScript!"; // ‚úÖ
const c: Greeting = "Hi, world!";      // ‚ùå ‚Äî –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "Hello, "
```

–í–Ω—É—Ç—Ä–∏ `${}` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π —Ç–∏–ø: `string`, `number`, `boolean`, –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã:

```typescript
type WeatherPath = `/weather/${string}`;
type ApiVersion = `v${number}`;
type Status = `${boolean}-mode`;

const path: WeatherPath = "/weather/london";  // ‚úÖ
const ver: ApiVersion = "v3";                 // ‚úÖ
const mode: Status = "true-mode";             // ‚úÖ
```

---

## 2. –ü–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏–µ union-—Ç–∏–ø–æ–≤

–ö–æ–≥–¥–∞ –≤–Ω—É—Ç—Ä–∏ —à–∞–±–ª–æ–Ω–∞ ‚Äî union, TypeScript –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:

```typescript
type Unit = "celsius" | "fahrenheit";
type Theme = "light" | "dark";

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏: "light-celsius" | "light-fahrenheit" | "dark-celsius" | "dark-fahrenheit"
type AppTheme = `${Theme}-${Unit}`;

const theme: AppTheme = "dark-celsius";   // ‚úÖ
const bad: AppTheme = "dark-kelvin";      // ‚ùå TypeScript Error
```

–≠—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è CSS-–∫–ª–∞—Å—Å–æ–≤, –∏–º—ë–Ω —Å–æ–±—ã—Ç–∏–π, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π:

```typescript
type WeatherField = "temperature" | "humidity" | "pressure";
type Unit2 = "metric" | "imperial";

// –í—Å–µ –∫–ª—é—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫: "temperature-metric" | "temperature-imperial" | ...
type SettingKey = `${WeatherField}-${Unit2}`;
```

---

## 3. –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Å—Ç—Ä–æ–∫

TypeScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 4 —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤:

```typescript
type A = Uppercase<"hello">;      // "HELLO"
type B = Lowercase<"WORLD">;      // "world"
type C = Capitalize<"city">;      // "City"
type D = Uncapitalize<"City">;    // "city"

// –†–∞–±–æ—Ç–∞—é—Ç —Å union-—Ç–∏–ø–∞–º–∏:
type Fields = "city" | "temperature" | "humidity";
type Capitalized = Capitalize<Fields>;
// "City" | "Temperature" | "Humidity"
```

---

## 4. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å Mapped Types

–°–∞–º—ã–π –º–æ—â–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å template literals –≤ `as` –ø—Ä–∏ –º–∞–ø–ø–∏–Ω–≥–µ –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π:

```typescript
type WeatherData = {
  city: string;
  temperature: number;
  humidity: number;
};

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–µ—Ç—Ç–µ—Ä–æ–≤: getCity, getTemperature, getHumidity
type Getters<T> = {
  [K in keyof T as `get${Capitalize<string & K>}`]: () => T[K];
};

type WeatherGetters = Getters<WeatherData>;
// {
//   getCity: () => string;
//   getTemperature: () => number;
//   getHumidity: () => number;
// }
```

`string & K` –Ω—É–∂–µ–Ω –ø–æ—Ç–æ–º—É, —á—Ç–æ `K` —ç—Ç–æ `keyof T`, –∞ `keyof` –º–æ–∂–µ—Ç –±—ã—Ç—å `string | number | symbol` ‚Äî –º—ã –±–µ—Ä—ë–º —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–æ–≤—É—é —á–∞—Å—Ç—å.

---

## 5. Event-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω DOM: `onclick`, `onmouseover` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø–æ –∏–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è. –¢–æ –∂–µ —Å–∞–º–æ–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –ª—é–±–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:

```typescript
interface WeatherEvents {
  search: { city: string };
  error: { message: string };
  settingsChange: { key: string };
}

// –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º: { onSearch, onError, onSettingsChange }
type EventListeners<T> = {
  [K in keyof T as `on${Capitalize<string & K>}`]?: (event: T[K]) => void;
};

type WeatherListeners = EventListeners<WeatherEvents>;
// {
//   onSearch?: (event: { city: string }) => void;
//   onError?: (event: { message: string }) => void;
//   onSettingsChange?: (event: { key: string }) => void;
// }
```

---

## 6. Type-safe API –º–∞—Ä—à—Ä—É—Ç—ã

Template Literal Types –ø–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ñ–æ—Ä–º–∞—Ç URL –ø—Ä—è–º–æ –≤ —Ç–∏–ø–∞—Ö:

```typescript
type WeatherEndpoint =
  | `/weather/${string}`
  | `/forecast/${string}/${number}`
  | `/search?q=${string}`;

function apiCall(endpoint: WeatherEndpoint): Promise<unknown> {
  return fetch(`https://api.example.com${endpoint}`).then(r => r.json());
}

apiCall("/weather/london");           // ‚úÖ
apiCall("/forecast/london/5");        // ‚úÖ
apiCall("/search?q=mos");             // ‚úÖ
apiCall("/unknown");                  // ‚ùå TypeScript Error
```

---

## üìä –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

| –ü–∞—Ç—Ç–µ—Ä–Ω | –ö–æ–¥ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---|---|---|
| –°—Ç—Ä–æ–∫–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º | `` `on${string}` `` | `"onclick"`, `"onchange"` |
| –ö–æ–º–±–∏–Ω–∞—Ü–∏—è union | `` `${"a"\|"b"}${1\|2}` `` | `"a1" \| "a2" \| "b1" \| "b2"` |
| Capitalize –∫–ª—é—á–µ–π | `` `get${Capitalize<string & K>}` `` | `"getCity"`, `"getTemp"` |
| API –º–∞—Ä—à—Ä—É—Ç | `` `/api/${string}` `` | —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫–∏ —Å `/api/` |
| –°–æ–±—ã—Ç–∏–µ | `` `on${Capitalize<EventName>}` `` | `"onSearch"`, `"onError"` |
| Scope.key | `` `${Scope}.${Key}` `` | `"weather.city"`, `"errors.notFound"` |

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.7.1: Event-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —á–µ—Ä–µ–∑ Template Literal Types

**–ó–∞–¥–∞—á–∞:** –ò—Å–ø–æ–ª—å–∑—É—è Template Literal Types + Mapped Types, —Å–æ–∑–¥–∞—Ç—å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ —Å—Ç–∏–ª–µ DOM (`onclick`, `onchange`) –¥–ª—è –ø–æ–≥–æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### –®–∞–≥–∏:

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/types/listeners.ts`:

   ```typescript
   import type { WeatherAppEvents } from "./events";

   // –ò–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å–æ–±—ã—Ç–∏–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∏–ø —Å–ª—É—à–∞—Ç–µ–ª–µ–π –≤–∏–¥–∞ { onSearch, onError, ... }
   // –ö–ª—é—á–∏: "on" + Capitalize –æ—Ç –∏–º–µ–Ω–∏ —Å–æ–±—ã—Ç–∏—è
   // –ó–Ω–∞—á–µ–Ω–∏—è: –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ç–∏–ø–æ–º –∞—Ä–≥—É–º–µ–Ω—Ç–∞
   export type EventListeners<T> = {
     // TODO: –∏—Å–ø–æ–ª—å–∑—É–π as —Å template literal –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π
     // –ü–æ–¥—Å–∫–∞–∑–∫–∞: `on${Capitalize<string & K>}`
   };

   // –°–ª—É—à–∞—Ç–µ–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–ª—è —Å–æ–±—ã—Ç–∏–π –ø–æ–≥–æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   export type WeatherListeners = EventListeners<WeatherAppEvents>;

   // –§—É–Ω–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç-—Å–ª—É—à–∞—Ç–µ–ª—å
   // –ü—Ä–∏–Ω–∏–º–∞–µ—Ç EventBus –∏ –æ–±—ä–µ–∫—Ç { onSearch?, onError?, ... }
   export function attachListeners<T extends Record<string, unknown>>(
     // TODO: –¥–æ–±–∞–≤—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: bus (EventBus<T>) –∏ listeners (EventListeners<T>)
     // –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ listeners –≤–∏–¥–∞ "onXxx" ‚Äî –≤—ã–∑–æ–≤–∏ bus.on("xxx", handler)
     // –ü–æ–¥—Å–∫–∞–∑–∫–∞: –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ "onSearch" ‚Üí "search" (—É–±—Ä–∞—Ç—å "on", uncapitalize)
   ): void {
     // TODO
   }
   ```

2. –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-listeners.ts`:

   ```typescript
   import type { WeatherListeners } from "./src/types/listeners";

   // –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–∏–ø WeatherListeners –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
   // {
   //   onSearch?: (event: { city: string; timestamp: number }) => void;
   //   onSearchSuccess?: (event: { city: string; data: WeatherData; timestamp: number }) => void;
   //   onSearchError?: (event: { city: string; error: string; timestamp: number }) => void;
   //   onSettingsChange?: (event: { ... }) => void;
   // }

   const listeners: WeatherListeners = {
     onSearch: (event) => {
       // event –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Ç–∏–ø { city: string; timestamp: number }
       console.log(`–ü–æ–∏—Å–∫: ${event.city}`);
     },
     onSearchError: (event) => {
       console.error(`–û—à–∏–±–∫–∞: ${event.error}`);
     },
     // onUnknown: () => {} // ‚Üê –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞ TypeScript
   };

   console.log("listeners:", Object.keys(listeners));
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `WeatherListeners` —Å–æ–¥–µ—Ä–∂–∏—Ç `onSearch`, `onSearchSuccess`, `onSearchError`, `onSettingsChange`
- –ö–∞–∂–¥—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è
- –í—Å–µ –ø–æ–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã (`?`)
- `onUnknown: ...` ‚Äî TypeScript Error

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: EventListeners —á–µ—Ä–µ–∑ Mapped Type + Template Literal</summary>

```typescript
export type EventListeners<T> = {
  [K in keyof T as `on${Capitalize<string & K>}`]?: (event: T[K]) => void;
};
// K = "search" ‚Üí –∫–ª—é—á —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "onSearch"
// K = "settingsChange" ‚Üí –∫–ª—é—á —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "onSettingsChange"
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å attachListeners</summary>

```typescript
// –ù—É–∂–Ω–æ –ø—Ä–æ–π—Ç–∏—Å—å –ø–æ –∫–ª—é—á–∞–º listeners ("onSearch", "onError", ...)
// –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ —É–±—Ä–∞—Ç—å "on" –∏ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—É—é –±—É–∫–≤—É —Å—Ç—Ä–æ—á–Ω–æ–π:
// "onSearch" ‚Üí "search", "onSettingsChange" ‚Üí "settingsChange"
const eventName = (key as string).replace(/^on/, "");
const normalized = eventName[0].toLowerCase() + eventName.slice(1);
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build && node dist/test-listeners.js
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.7.2: Type-safe API –º–∞—Ä—à—Ä—É—Ç—ã

**–ó–∞–¥–∞—á–∞:** –û–ø–∏—Å–∞—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ URL-–º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è weather API ‚Äî TypeScript –¥–æ–ª–∂–µ–Ω –∑–∞–ø—Ä–µ—â–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ URL –ø—Ä—è–º–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ.

### –®–∞–≥–∏:

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/types/api.ts`:

   ```typescript
   // –î–æ–ø—É—Å—Ç–∏–º—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –ø–æ–≥–æ–¥–Ω–æ–≥–æ API
   // –ü—Ä–∏–º–µ—Ä—ã: "/weather/london", "/forecast/moscow/5", "/search?q=par"
   export type WeatherEndpoint =
     | // TODO: –º–∞—Ä—à—Ä—É—Ç "/weather/${city}"
     | // TODO: –º–∞—Ä—à—Ä—É—Ç "/forecast/${city}/${days}" (days ‚Äî —á–∏—Å–ª–æ)
     | // TODO: –º–∞—Ä—à—Ä—É—Ç "/search?q=${query}"

   // HTTP –º–µ—Ç–æ–¥—ã
   export type HttpMethod = "GET" | "POST" | "PUT" | "DELETE";

   // –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
   export interface TypedRequest<E extends WeatherEndpoint> {
     endpoint: E;
     method: HttpMethod;
     params?: Record<string, string | number>;
   }

   // –¢–∏–ø –æ—Ç–≤–µ—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –º–∞—Ä—à—Ä—É—Ç–∞
   // –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑—É–π conditional types –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
   export type EndpointResponse<E extends WeatherEndpoint> =
     E extends `/weather/${string}`     ? WeatherData :
     E extends `/forecast/${string}/${number}` ? WeatherData[] :
     E extends `/search?q=${string}`    ? { cities: string[] } :
     never;
   ```

   > –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π `WeatherData` –∏–∑ `../types/weather` —Ç–∞–º, –≥–¥–µ –Ω—É–∂–Ω–æ.

2. –û–±–Ω–æ–≤–∏ –∫–ª–∞—Å—Å `ApiClient` –≤ `src/modules/api/ApiClient.ts`:

   ```typescript
   import type { WeatherEndpoint, EndpointResponse } from "../../types/api";

   // –î–æ–±–∞–≤—å –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É ApiClient —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ—Ç–æ–¥
   // –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω–∏–º–∞—Ç—å endpoint: E –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å Promise<EndpointResponse<E>>
   async request<E extends WeatherEndpoint>(endpoint: E): Promise<EndpointResponse<E>> {
     // TODO: —Ä–µ–∞–ª–∏–∑—É–π —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–µ—Ç–æ–¥ get
     // –ü–æ–¥—Å–∫–∞–∑–∫–∞: return this.get<EndpointResponse<E>>(endpoint)
   }
   ```

3. –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-api-types.ts`:

   ```typescript
   import type { WeatherEndpoint, EndpointResponse } from "./src/types/api";

   // –ü—Ä–æ–≤–µ—Ä—å –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
   const e1: WeatherEndpoint = "/weather/london";        // ‚úÖ
   const e2: WeatherEndpoint = "/forecast/moscow/5";     // ‚úÖ
   const e3: WeatherEndpoint = "/search?q=par";          // ‚úÖ
   // const e4: WeatherEndpoint = "/unknown";            // ‚ùå TypeScript Error

   // –ü—Ä–æ–≤–µ—Ä—å —Ç–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤
   type R1 = EndpointResponse<"/weather/london">;         // WeatherData
   type R2 = EndpointResponse<"/forecast/moscow/5">;      // WeatherData[]
   type R3 = EndpointResponse<"/search?q=par">;           // { cities: string[] }

   console.log("API types: OK");
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `"/weather/london"` ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ã–π `WeatherEndpoint`
- `"/unknown"` ‚Äî TypeScript Error
- `EndpointResponse<"/weather/london">` ‚Äî `WeatherData`
- `EndpointResponse<"/forecast/london/7">` ‚Äî `WeatherData[]`

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: Template Literal –¥–ª—è URL-–ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤</summary>

```typescript
export type WeatherEndpoint =
  | `/weather/${string}`        // "/weather/london", "/weather/paris"
  | `/forecast/${string}/${number}` // "/forecast/london/5"
  | `/search?q=${string}`;      // "/search?q=lon"

// TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —Å—Ç—Ä–æ–∫–∞ –æ–¥–Ω–æ–º—É –∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build && node dist/test-api-types.js
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.7.3: –ì–µ—Ç—Ç–µ—Ä—ã –∏ —Å–µ—Ç—Ç–µ—Ä—ã —á–µ—Ä–µ–∑ Template Literal + Mapped Types

**–ó–∞–¥–∞—á–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –¥–ª—è –≥–µ—Ç—Ç–µ—Ä–æ–≤ –∏ —Å–µ—Ç—Ç–µ—Ä–æ–≤ –∏–∑ –ª—é–±–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ‚Äî —Ç–∞–∫, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, Vue —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏–ª–∏ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤ IDE.

### –®–∞–≥–∏:

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/modules/utils/accessors.ts`:

   ```typescript
   import type { WeatherData } from "../../types/weather";
   import type { AppSettings } from "../../types/weather";

   // –¢–∏–ø –≥–µ—Ç—Ç–µ—Ä–æ–≤: –∏–∑ { city: string } ‚Üí { getCity: () => string }
   export type Getters<T> = {
     // TODO: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ K ‚Äî –º–µ—Ç–æ–¥ –≤–∏–¥–∞ `get${Capitalize<string & K>}`
     // –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç T[K]
   };

   // –¢–∏–ø —Å–µ—Ç—Ç–µ—Ä–æ–≤: –∏–∑ { city: string } ‚Üí { setCity: (value: string) => void }
   export type Setters<T> = {
     // TODO: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ K ‚Äî –º–µ—Ç–æ–¥ –≤–∏–¥–∞ `set${Capitalize<string & K>}`
     // –ü—Ä–∏–Ω–∏–º–∞–µ—Ç T[K], –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç void
   };

   // –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≥–µ—Ç—Ç–µ—Ä–æ–≤ –∏ —Å–µ—Ç—Ç–µ—Ä–æ–≤
   export type Accessors<T> = Getters<T> & Setters<T>;

   // –§–∞–±—Ä–∏–∫–∞: —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç —Å –≥–µ—Ç—Ç–µ—Ä–∞–º–∏ –∏ —Å–µ—Ç—Ç–µ—Ä–∞–º–∏ –∏–∑ –æ–±—ã—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
   export function createAccessors<T extends object>(data: T): Accessors<T> {
     const result: Record<string, unknown> = {};

     for (const key in data) {
       // TODO: –¥–æ–±–∞–≤—å –≥–µ—Ç—Ç–µ—Ä `get${Capitalize<key>}` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç data[key]
       // TODO: –¥–æ–±–∞–≤—å —Å–µ—Ç—Ç–µ—Ä `set${Capitalize<key>}` ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç data[key]
       // –ü–æ–¥—Å–∫–∞–∑–∫–∞: capitalize –ø–µ—Ä–≤—É—é –±—É–∫–≤—É key –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑:
       // key[0].toUpperCase() + key.slice(1)
     }

     return result as Accessors<T>;
   }
   ```

2. –°–æ–∑–¥–∞–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `test-accessors.ts`:

   ```typescript
   import { createAccessors } from "./src/modules/utils/accessors";
   import type { Getters, Setters } from "./src/modules/utils/accessors";
   import type { WeatherData } from "./src/types/weather";

   // –ü—Ä–æ–≤–µ—Ä—å —Ç–∏–ø—ã
   type WeatherGetters = Getters<Pick<WeatherData, "city" | "temperature">>;
   // –û–∂–∏–¥–∞–µ—Ç—Å—è: { getCity: () => string; getTemperature: () => number }

   type WeatherSetters = Setters<Pick<WeatherData, "city" | "temperature">>;
   // –û–∂–∏–¥–∞–µ—Ç—Å—è: { setCity: (value: string) => void; setTemperature: (value: number) => void }

   // –¢–µ—Å—Ç createAccessors
   const data = { city: "–ú–æ—Å–∫–≤–∞", temperature: 5 };
   const accessors = createAccessors(data);

   console.log(accessors.getCity());          // "–ú–æ—Å–∫–≤–∞"
   accessors.setCity("–ü–∏—Ç–µ—Ä");
   console.log(accessors.getCity());          // "–ü–∏—Ç–µ—Ä"
   console.log(accessors.getTemperature());   // 5

   // accessors.setCity(42); // ‚ùå TypeScript Error ‚Äî –æ–∂–∏–¥–∞–µ—Ç—Å—è string
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `Getters<WeatherData>` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `getCity`, `getTemperature` –∏ —Ç.–¥.
- `Setters<WeatherData>` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `setCity`, `setTemperature` –∏ —Ç.–¥.
- `setCity(42)` ‚Äî TypeScript Error (–æ–∂–∏–¥–∞–µ—Ç—Å—è `string`)
- `createAccessors` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞–Ω—Ç–∞–π–º–µ

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: Capitalize –≤ —Ç–∏–ø–∞—Ö vs –≤ —Ä–∞–Ω—Ç–∞–π–º–µ</summary>

```typescript
// –í —Ç–∏–ø–∞—Ö:
type GetterKey<K extends string> = `get${Capitalize<K>}`;
// GetterKey<"city"> = "getCity"

// –í —Ä–∞–Ω—Ç–∞–π–º–µ Capitalize –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –¥–µ–ª–∞–µ–º –≤—Ä—É—á–Ω—É—é:
const capitalized = key[0].toUpperCase() + key.slice(1);
const getterName = `get${capitalized}`;
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Getters —á–µ—Ä–µ–∑ Mapped Type</summary>

```typescript
export type Getters<T> = {
  [K in keyof T as `get${Capitalize<string & K>}`]: () => T[K];
};
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build && node dist/test-accessors.js
```

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:**
```
–ú–æ—Å–∫–≤–∞
–ü–∏—Ç–µ—Ä
5
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.7.4: –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–ª—é—á–∏ i18n

**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —Å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ ‚Äî TypeScript –¥–æ–ª–∂–µ–Ω –∑–Ω–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ –∑–∞–ø—Ä–µ—â–∞—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ.

### –®–∞–≥–∏:

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/modules/utils/i18n.ts`:

   ```typescript
   // –°–ª–æ–≤–∞—Ä—å –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Ä–∞–∑–±–∏—Ç –Ω–∞ —Å–µ–∫—Ü–∏–∏
   export const translations = {
     weather: {
       temperature: "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞",
       humidity: "–í–ª–∞–∂–Ω–æ—Å—Ç—å",
       pressure: "–î–∞–≤–ª–µ–Ω–∏–µ",
       windSpeed: "–°–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞",
       feelsLike: "–û—â—É—â–∞–µ—Ç—Å—è –∫–∞–∫",
     },
     errors: {
       notFound: "–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω",
       network: "–û—à–∏–±–∫–∞ —Å–µ—Ç–∏",
       unknown: "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞",
     },
     ui: {
       search: "–ü–æ–∏—Å–∫",
       settings: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
       loading: "–ó–∞–≥—Ä—É–∑–∫–∞...",
     },
   } as const;

   // –¢–∏–ø —Å–µ–∫—Ü–∏–π (–≤–µ—Ä—Ö–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å): "weather" | "errors" | "ui"
   export type TranslationScope = keyof typeof translations;

   // –¢–∏–ø –∫–ª—é—á–µ–π –≤–Ω—É—Ç—Ä–∏ —Å–µ–∫—Ü–∏–∏
   export type TranslationKey<S extends TranslationScope> =
     keyof (typeof translations)[S];

   // –°–æ—Å—Ç–∞–≤–Ω–æ–π –∫–ª—é—á –≤–∏–¥–∞ "weather.temperature", "errors.notFound"
   export type I18nKey = {
     // TODO: –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏ S –∏ –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞ K –≤ —ç—Ç–æ–π —Å–µ–∫—Ü–∏–∏
     // —Å–æ–∑–¥–∞–π —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞ `${S}.${string & K}`
     // –ü–æ–¥—Å–∫–∞–∑–∫–∞: –Ω—É–∂–µ–Ω –≤–ª–æ–∂–µ–Ω–Ω—ã–π mapped type –∏–ª–∏ conditional type
     [S in TranslationScope]: `${S}.${string & TranslationKey<S>}`;
   }[TranslationScope]; // –±–µ—Ä—ë–º union –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π

   // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª—é—á–∏
   export function t(key: I18nKey): string {
     // TODO: —Ä–∞–∑–±–µ–π key –Ω–∞ —Å–µ–∫—Ü–∏—é –∏ –ø–æ–¥–∫–ª—é—á —á–µ—Ä–µ–∑ split(".")
     // –í–µ—Ä–Ω–∏ (translations as any)[scope][subKey]
   }
   ```

2. –ò—Å–ø–æ–ª—å–∑—É–π i18n –≤ `src/app.ts`:

   ```typescript
   import { t } from "./modules/utils/i18n";

   // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏:
   console.log(t("weather.temperature"));  // "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"
   console.log(t("errors.notFound"));      // "–ì–æ—Ä–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω"
   console.log(t("ui.loading"));           // "–ó–∞–≥—Ä—É–∑–∫–∞..."

   // t("weather.unknown")   // ‚ùå TypeScript Error ‚Äî –Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –∫–ª—é—á–∞
   // t("other.key")         // ‚ùå TypeScript Error ‚Äî –Ω–µ—Ç —Ç–∞–∫–æ–π —Å–µ–∫—Ü–∏–∏

   // –ò—Å–ø–æ–ª—å–∑—É–π –≤ —Ä–µ–Ω–¥–µ—Ä–µ –ø–æ–≥–æ–¥—ã:
   function renderWeatherLabel(field: keyof WeatherData): string {
     // TODO: –µ—Å–ª–∏ –µ—Å—Ç—å –ø–µ—Ä–µ–≤–æ–¥ weather.${field} ‚Äî –≤–µ—Ä–Ω–∏ –µ–≥–æ, –∏–Ω–∞—á–µ ‚Äî field
   }
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `t("weather.temperature")` ‚Äî TypeScript –ø—Ä–∏–Ω–∏–º–∞–µ—Ç, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"`
- `t("weather.unknown")` ‚Äî TypeScript Error (–Ω–µ—Ç —Ç–∞–∫–æ–≥–æ –∫–ª—é—á–∞)
- `t("other.key")` ‚Äî TypeScript Error (–Ω–µ—Ç —Ç–∞–∫–æ–π —Å–µ–∫—Ü–∏–∏)
- –§—É–Ω–∫—Ü–∏—è `t()` —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–∞–Ω—Ç–∞–π–º–µ

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: I18nKey —á–µ—Ä–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã–π Mapped Type</summary>

```typescript
export type I18nKey = {
  [S in TranslationScope]: `${S}.${string & TranslationKey<S>}`;
}[TranslationScope];

// –®–∞–≥–∏:
// 1. –ú–∞–ø–ø–∏–Ω–≥: –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏ —Å–æ–∑–¥–∞—ë–º union –µ—ë –∫–ª—é—á–µ–π —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
//    { weather: "weather.temperature" | "weather.humidity" | ..., errors: ... }
// 2. [TranslationScope] ‚Äî –±–µ—Ä—ë–º union –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π –æ–±—ä–µ–∫—Ç–∞
// –†–µ–∑—É–ª—å—Ç–∞—Ç: "weather.temperature" | "weather.humidity" | "errors.notFound" | ...
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è t() –≤ —Ä–∞–Ω—Ç–∞–π–º–µ</summary>

```typescript
export function t(key: I18nKey): string {
  const [scope, subKey] = key.split(".") as [TranslationScope, string];
  return (translations[scope] as Record<string, string>)[subKey] ?? key;
}
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run build && node dist/src/app.js
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏–∫–∞ 3.2.7.5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚Äî —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ CSS-–∫–ª–∞—Å—Å—ã –∏ i18n –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**–ó–∞–¥–∞—á–∞:** –û–±—ä–µ–¥–∏–Ω–∏—Ç—å Template Literal Types –≤ —Ä–µ–∞–ª—å–Ω–æ–º UI ‚Äî —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è CSS-–∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ–≥–æ–¥–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ i18n-–ø–æ–¥–ø–∏—Å–∏.

### –®–∞–≥–∏:

1. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `src/modules/ui/classNames.ts`:

   ```typescript
   // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
   export type UIComponent = "card" | "badge" | "button" | "input" | "panel";

   // –°–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   export type UIState = "default" | "loading" | "error" | "success";

   // –†–∞–∑–º–µ—Ä—ã
   export type UISize = "sm" | "md" | "lg";

   // –ü–æ–ª–Ω—ã–π CSS-–∫–ª–∞—Å—Å: "weather-card--loading--md" –∏ —Ç.–¥.
   export type WeatherClass = `weather-${UIComponent}--${UIState}--${UISize}`;

   // –§—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ ‚Äî –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
   export function cls(
     component: UIComponent,
     state: UIState = "default",
     size: UISize = "md"
   ): WeatherClass {
     // TODO: –≤–µ—Ä–Ω–∏ —Å—Ç—Ä–æ–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `weather-${component}--${state}--${size}`
   }

   // –¢–∏–ø –¥–ª—è –æ–±—ä–µ–∫—Ç–∞ —Å –∫–ª–∞—Å—Å–∞–º–∏ –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   export type ComponentClasses<C extends UIComponent> = {
     // TODO: –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è S ‚Äî CSS-–∫–ª–∞—Å—Å `weather-${C}--${S}--md`
   };

   // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   export function createClasses<C extends UIComponent>(
     component: C
   ): ComponentClasses<C> {
     // TODO: —Å–æ–∑–¥–∞–π –æ–±—ä–µ–∫—Ç –≤–∏–¥–∞ { default: "weather-card--default--md", loading: ..., ... }
   }
   ```

2. –ò—Å–ø–æ–ª—å–∑—É–π –≤ `src/modules/ui/stateRenderer.ts`:

   ```typescript
   import { cls, createClasses } from "./classNames";
   import { t } from "../utils/i18n";

   // –°–æ–∑–¥–∞–π –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –∫–∞—Ä—Ç–æ—á–∫–∏
   const cardClasses = createClasses("card");
   // { default: "weather-card--default--md", loading: "weather-card--loading--md", ... }

   export function renderState(state: AppState): void {
     const container = document.getElementById("weather-display")!;

     // TODO: –∏—Å–ø–æ–ª—å–∑—É–π cls() –¥–ª—è –∑–∞–¥–∞–Ω–∏—è className –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç state
     // –ù–∞–ø—Ä–∏–º–µ—Ä: container.className = cls("card", "loading") –ø—Ä–∏ state.status === "loading"

     switch (state.status) {
       case "idle":
         container.className = cls("card", "default");
         container.innerHTML = `<p>${t("ui.search")}</p>`;
         break;

       case "loading":
         // TODO: –∑–∞–¥–∞–π className —á–µ—Ä–µ–∑ cls(), –≤—ã–≤–µ–¥–∏ t("ui.loading")
         break;

       case "success":
         // TODO: –∑–∞–¥–∞–π className —á–µ—Ä–µ–∑ cls(), –≤—ã–≤–µ–¥–∏ –¥–∞–Ω–Ω—ã–µ —Å –º–µ—Ç–∫–∞–º–∏ —á–µ—Ä–µ–∑ t()
         break;

       case "error":
         // TODO: –∑–∞–¥–∞–π className —á–µ—Ä–µ–∑ cls(), –≤—ã–≤–µ–¥–∏ t("errors.network") –∏–ª–∏ t("errors.notFound")
         break;
     }
   }
   ```

3. –û–±–Ω–æ–≤–∏ `index.html` ‚Äî –¥–æ–±–∞–≤—å –±–∞–∑–æ–≤—ã–µ CSS-—Å—Ç–∏–ª–∏ –¥–ª—è –∫–ª–∞—Å—Å–æ–≤:

   ```html
   <style>
     [class^="weather-card"] { border-radius: 8px; padding: 16px; }
     .weather-card--default--md { background: #f5f5f5; }
     .weather-card--loading--md { background: #e3f2fd; opacity: 0.7; }
     .weather-card--error--md   { background: #ffebee; border: 1px solid #ef9a9a; }
     .weather-card--success--md { background: #e8f5e9; }
   </style>
   ```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `cls("card", "loading")` ‚Üí `"weather-card--loading--md"` (TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã)
- `cls("unknownComponent", ...)` ‚Äî TypeScript Error
- `t("ui.loading")` –≤ —Ä–µ–Ω–¥–µ—Ä–µ ‚Äî —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ
- –ü—Ä–∏ `state.status === "error"` –∫–∞—Ä—Ç–æ—á–∫–∞ –ø–æ–ª—É—á–∞–µ—Ç –∫–ª–∞—Å—Å —Å `error`

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 1: WeatherClass —á–µ—Ä–µ–∑ Template Literal</summary>

```typescript
// TypeScript –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:
// "weather-card--default--sm" | "weather-card--default--md" | ... (3 √ó 4 √ó 3 = 36 –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤)
type WeatherClass = `weather-${UIComponent}--${UIState}--${UISize}`;
```
</details>

<details>
<summary>üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞ 2: ComponentClasses —á–µ—Ä–µ–∑ Mapped Type</summary>

```typescript
export type ComponentClasses<C extends UIComponent> = {
  [S in UIState]: `weather-${C}--${S}--md`;
};
// ComponentClasses<"card"> = {
//   default: "weather-card--default--md";
//   loading: "weather-card--loading--md";
//   ...
// }
```
</details>

### –ü—Ä–æ–≤–µ—Ä–∫–∞:
```bash
npm run dev
```

–û—Ç–∫—Ä–æ–π –±—Ä–∞—É–∑–µ—Ä. –£–±–µ–¥–∏—Å—å, —á—Ç–æ:
1. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–∏–Ω—è—è (`--loading--md`)
2. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ ‚Äî –∑–µ–ª—ë–Ω–∞—è (`--success--md`)
3. –ü—Ä–∏ –æ—à–∏–±–∫–µ ‚Äî –∫—Ä–∞—Å–Ω–∞—è (`--error--md`)
4. –ü–æ–¥–ø–∏—Å–∏ –≤ UI –∏—Å–ø–æ–ª—å–∑—É—é—Ç `t()` ‚Äî –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ä–∞–∑–¥–µ–ª–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ç—ã –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å:

- [ ] –ß–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å `` `${Type}` ``
- [ ] –û–±—ä—è—Å–Ω—è—Ç—å, –∫–∞–∫ TypeScript –ø–µ—Ä–µ–º–Ω–æ–∂–∞–µ—Ç union –≤–Ω—É—Ç—Ä–∏ template literal
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Capitalize`, `Uppercase`, `Lowercase`, `Uncapitalize`
- [ ] –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å Template Literal Types —Å Mapped Types –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π
- [ ] –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–∏–ø—ã –≥–µ—Ç—Ç–µ—Ä–æ–≤/—Å–µ—Ç—Ç–µ—Ä–æ–≤ –∏–∑ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- [ ] –°—Ç—Ä–æ–∏—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ API-–º–∞—Ä—à—Ä—É—Ç—ã —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω—ã
- [ ] –°–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∫–ª—é—á–∏ i18n —á–µ—Ä–µ–∑ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ Mapped Types

---

## üîó –†–µ—Å—É—Ä—Å—ã

**–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- [Template Literal Types](https://www.typescriptlang.org/docs/handbook/2/template-literal-types.html) ‚Äî –ø–æ–ª–Ω–∞—è –≥–ª–∞–≤–∞

**–°—Ç–∞—Ç—å–∏:**
- [Template Literal Types in TypeScript](https://www.totaltypescript.com/books/total-typescript-essentials/designing-your-types-in-typescript#template-literal-types-in-typescript) ‚Äî Total TypeScript
- [–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–µ–º —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –ª–∏—Ç–µ—Ä–∞–ª–æ–≤ –≤ TypeScript: –∫–∞–∫ –ø–æ–∫—Ä—ã—Ç—å —Ç–∏–ø–∞–º–∏ DSL](https://habr.com/ru/companies/selectel/articles/567758/) ‚Äî —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

---

‚è± **–í—Ä–µ–º—è –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ**: 2-3 —á–∞—Å–∞

---

**–ü—Ä–µ–¥—ã–¥—É—â–∞—è —Ç–µ–º–∞:** [3.2.6 Mapped Types](./3.2.6-Mapped-Types.md)

**–°–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞:** [3.2.8 –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –∏ Metadata](./3.2.8-–î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã-–∏-Metadata.md)

---

> ## üöÄ –£—Å–∫–æ—Ä—è–µ–º –∫–∞—Ä—å–µ—Ä–Ω—ã–π —Ä–æ—Å—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
>
> **–ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ –ø–æ –ø–æ–¥–ø–∏—Å–∫–µ –¥–ª—è Fullstack-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**
>
> - 7 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ, —á—Ç–æ–±—ã –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å
> - –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø–æ –∫–æ–¥—É –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
> - –ú–∞–∫—Å–∏–º—É–º –ø—Ä–∞–∫—Ç–∏–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö
>
> [**–ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –º–µ–Ω—Ç–æ—Ä–∞—Ö, –æ–±—É—á–µ–Ω–∏–∏ –∏ –∫–µ–π—Å–∞—Ö ‚Üí**](https://xmentors.ru/dev?utm_source=baza_js)
